<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>üéØ Up Level Challenge: Road to Premier Ball</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .gymbattle-container {
      max-width: 900px;
      margin: 32px auto;
      padding: 0 8px 32px 8px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }
    .logo {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 16px;
      width: 100%;
    }
    .logo img {
      max-width: 120px;
      display: block;
      margin: 0 auto;
    }
    h2 {
      color: #388e3c;
      text-align: center;
    }
    .date-header {
      padding: 10px;
      margin-top: 32px;
      font-size: 1.1em;
      font-weight: bold;
      border-radius: 8px 8px 0 0;
      border-left: 6px solid #42A5F5;
      text-align: left;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0;
      margin-bottom: 16px;
      background: #fff;
      border-radius: 0 0 12px 12px;
      overflow: hidden;
    }
    th, td {
      padding: 10px 8px;
      text-align: center;
      border-bottom: 1px solid #ddd;
    }
    th {
      font-weight: bold;
      font-size: 1.05em;
    }
    tr:hover td {
      background: #f1f1f1;
    }
    .register-btn {
      display: block;
      width: 100%;
      margin: 24px auto 0 auto;
      padding: 12px 0;
      background: #1976d2;
      color: #fff;
      font-size: 1.1em;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      transition: background 0.2s, transform 0.18s, box-shadow 0.18s;
      max-width: 350px;
    }
    .register-btn:hover {
      background: #42A5F5;
      color: #fff;
      transform: scale(1.07);
      box-shadow: 0 0 16px #42A5F5, 0 0 32px #42A5F5;
    }
    /* Spinner */
    .spinner {
      margin: 24px auto 8px auto;
      border: 6px solid #e0e0e0;
      border-top: 6px solid #42A5F5;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
    /* Codename ‡∏™‡∏µ/‡∏Ç‡∏ô‡∏≤‡∏î/‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ï‡∏≤‡∏° rank */
    .codename-rank[data-rank="Rookie"]      .codename { color: #888888; font-size: 1.05em; }
    .codename-rank[data-rank="Bronze"]      .codename { color: #b87333; font-size: 1.08em; }
    .codename-rank[data-rank="Silver"]      .codename { color: #9e9e9e; font-size: 1.12em; }
    .codename-rank[data-rank="Gold"]        .codename { color: #ffd700; font-size: 1.18em; font-weight: bold; }
    .codename-rank[data-rank="Platinum"]    .codename { color: #00bcd4; font-size: 1.22em; font-weight: bold; }
    .codename-rank[data-rank="Diamond"]     .codename { color: #00bfff; font-size: 1.28em; font-weight: bold; }
    .codename-rank[data-rank="Grandmaster"] .codename { color: #8e24aa; font-size: 1.35em; font-weight: bold; }
    .codename-rank[data-rank="Legend"]      .codename { color: #e53935; font-size: 1.45em; font-weight: bold; }
    .codename-rank[data-rank="Gold"]        .codename,
    .codename-rank[data-rank="Platinum"]    .codename,
    .codename-rank[data-rank="Diamond"]     .codename,
    .codename-rank[data-rank="Grandmaster"] .codename,
    .codename-rank[data-rank="Legend"]      .codename {
      animation: blink 1s step-end infinite alternate;
    }
    @keyframes blink {
      0%   { opacity: 1;   text-shadow: 0 0 8px #fff, 0 0 16px currentColor; }
      100% { opacity: 0.6; text-shadow: 0 0 2px #fff, 0 0 4px currentColor; }
    }
    /* Wave (Gold) */
    @keyframes wave {
      0%, 100% { transform: translateY(0);}
      20%      { transform: translateY(-5px);}
      40%      { transform: translateY(-10px);}
      60%      { transform: translateY(-5px);}
      80%      { transform: translateY(0);}
    }
    .codename.wave span {
      display: inline-block;
      animation: wave 1.2s cubic-bezier(0.4,0,0.2,1) infinite;
    }
    .codename.wave.gold span { animation-duration: 1.2s; }
    .codename.wave.platinum span { animation-duration: 1s; }
    .codename.wave.diamond span { animation-duration: 0.85s; }
    .codename.wave.grandmaster span { animation-duration: 0.7s; }
    .codename.wave.legend span { animation-duration: 0.6s; }
    .codename.wave span:nth-child(1) { animation-delay: 0s; }
    .codename.wave span:nth-child(2) { animation-delay: 0.08s; }
    .codename.wave span:nth-child(3) { animation-delay: 0.16s; }
    .codename.wave span:nth-child(4) { animation-delay: 0.24s; }
    .codename.wave span:nth-child(5) { animation-delay: 0.32s; }
    .codename.wave span:nth-child(6) { animation-delay: 0.40s; }
    .codename.wave span:nth-child(7) { animation-delay: 0.48s; }
    .codename.wave span:nth-child(8) { animation-delay: 0.56s; }
    .codename.wave span:nth-child(9) { animation-delay: 0.64s; }
    .codename.wave span:nth-child(10){ animation-delay: 0.72s; }

    /* Event Info Section */
    .event-info-section {
      margin-top: 40px;
      padding: 24px;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .event-info-title {
      text-align: center;
      color: #2c3e50;
      font-size: 1.8em;
      font-weight: bold;
      margin-bottom: 8px;
    }

    .event-info-subtitle {
      text-align: center;
      color: #6c757d;
      font-size: 1.1em;
      margin-bottom: 32px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .info-card {
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
      border-left: 4px solid #42A5F5;
    }

    .info-card h4 {
      color: #1976d2;
      margin-bottom: 8px;
      font-size: 1.1em;
    }

    .info-card p {
      color: #333;
      margin: 4px 0;
      font-size: 0.95em;
    }

    .expand-btn {
      background: #42A5F5;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
      margin: 15px 0;
      transition: background 0.3s;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .expand-btn:hover {
      background: #1976d2;
    }

    .expandable-content {
      display: none;
      margin-top: 20px;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
    }

    .expandable-content.show {
      display: block;
    }

    .points-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 15px 0;
    }

    .point-item {
      background: #f8f9fa;
      padding: 12px;
      border-radius: 8px;
      border-left: 4px solid #ff9800;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .point-value {
      font-weight: bold;
      color: #f57c00;
      font-size: 1.1em;
    }

    .point-reward {
      color: #333;
      margin-top: 5px;
      font-size: 0.9em;
    }

    .gym-day {
      border-left-color: #4caf50 !important;
      background: #f1f8e9 !important;
    }

    .gym-day::before {
      content: "üèÜ ";
      font-size: 1.2em;
    }

    .toggle-btn {
      background: #42A5F5;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
    }

    .toggle-btn:hover {
      background: #1976d2;
    }
  </style>
</head>
<body>
  <a href="index.html" class="home-button" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"></a>
  <div class="gymbattle-container">
    <div class="logo">
      <img src="https://i.postimg.cc/wjzpnxjB/Up-Level-01-1.png" alt="Up Level Logo">
    </div>
    <h2 style="text-align:center; margin-bottom: 24px;">üéØ Up Level Challenge: Road to Premier Ball</h2>
    <div style="display: flex; justify-content: center; margin-bottom: 24px;">
      <a class="register-btn" href="https://forms.gle/rwmVCjNRWTEcGXjr6" target="_blank" style="text-align: center;">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô Road to Premier Ball</a>
    </div>
    <div id="gymbattle-list" style="text-align:center;">
      <div class="spinner"></div>
      <div>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
    </div>

    <!-- Event Info Section -->
    <div class="event-info-section">
      <button class="expand-btn" onclick="toggleContent('all-details')">üìã ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
      <div id="all-details" class="expandable-content">
        <h3 class="event-info-title">üéØ Road to Premier Ball Challenge</h3>
        <p class="event-info-subtitle">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏∏‡∏¢ Premier Ball League</p>
        
        <div class="info-grid">
          <div class="info-card">
            <h4>üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h4>
            <p><strong>29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô ‚Äì 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568</strong></p>
            <p>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ß‡∏±‡∏ô</p>
          </div>
          <div class="info-card">
            <h4>‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏Ç‡πà‡∏á</h4>
            <p><strong>19:00 ‡∏ô.</strong></p>
            <p>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î</p>
          </div>
          <div class="info-card">
            <h4>üí∞ ‡∏Ñ‡πà‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h4>
            <p><strong>129 ‡∏ö‡∏≤‡∏ó</strong> / ‡∏ß‡∏±‡∏ô</p>
            <p><strong>109 ‡∏ö‡∏≤‡∏ó</strong> ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á</p>
          </div>
          <div class="info-card">
            <h4>üéÅ ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©</h4>
            <p><strong>Booster Pack 1 ‡∏ã‡∏≠‡∏á</strong></p>
            <p>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô</p>
          </div>
        </div>

        <!-- Competition Format Card -->
        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin: 20px 0;">
          <h4 style="color: #1976d2; margin-bottom: 15px;">üéÆ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h4>
          <div style="display: grid; gap: 10px;">
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #42A5F5;">
              <strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö:</strong> Mini Swiss Format
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #4CAF50;">
              <strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≠‡∏ö:</strong> 3 ‡∏£‡∏≠‡∏ö (‚â§6 ‡∏Ñ‡∏ô) ‡∏´‡∏£‡∏∑‡∏≠ 4 ‡∏£‡∏≠‡∏ö (>6 ‡∏Ñ‡∏ô)
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #FF9800;">
              <strong>‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô:</strong> BO1 (1 ‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö) ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤ 25 ‡∏ô‡∏≤‡∏ó‡∏µ
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #E91E63;">
              <strong>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ï‡πâ‡∏°:</strong> ‡∏ä‡∏ô‡∏∞ 1 ‡πÄ‡∏Å‡∏° = ‡πÑ‡∏î‡πâ 1 ‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏∞‡∏™‡∏°
            </div>
          </div>
        </div>

        <!-- Rewards Table Card -->
        <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); padding: 20px; border-radius: 12px; margin: 20px 0;">
          <h4 style="color: #f57c00; margin-bottom: 20px; text-align: center;">üèÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h4>
          <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <table style="width: 100%; border-collapse: collapse;">
              <thead>
                <tr style="background: #f57c00; color: white;">
                  <th style="padding: 12px; text-align: center; font-weight: bold;">‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏∞‡∏™‡∏°</th>
                  <th style="padding: 12px; text-align: left; font-weight: bold;">‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</th>
                </tr>
              </thead>
              <tbody>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">1 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">Booster Pack 1 ‡∏ã‡∏≠‡∏á</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">2 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ 1 ‡∏ä‡∏∏‡∏î / ‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">3 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏ô‡∏±‡∏ö‡πÅ‡∏î‡πÄ‡∏°‡∏à / Sleeve DefendD / ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç pokemon</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">5 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">Outter Sleeves / ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏û‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î / Deck Case</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">7 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">Sleeve Pok√©mon / ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà Playmat / ‡πÅ‡∏ü‡πâ‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î / God pack / ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô‡∏±‡∏á ‡πÄ‡∏•‡πá‡∏Å</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">9 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">dargon sheild outer / ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏ô‡∏±‡∏á‡πÉ‡∏´‡∏ç‡πà</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">10 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">Deck Case + Sleeve / ‡∏ä‡∏∏‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏£‡∏ß‡∏°</td>
                </tr>
                <tr style="border-bottom: 1px solid #f0f0f0;">
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">12 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;">Deck Case + Sleeve + ‡∏Å‡∏•‡πà‡∏≠‡∏á Playmat / ‡πÅ‡∏ü‡πâ‡∏° + ‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏ô‡∏±‡∏ö‡πÅ‡∏î‡πÄ‡∏°‡∏à + ‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</td>
                </tr>
                <tr>
                  <td style="padding: 12px; text-align: center; font-weight: bold; color: #f57c00;">15 ‡πÅ‡∏ï‡πâ‡∏°</td>
                  <td style="padding: 12px;"><strong>Booster Box / Playmat</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Special Gym Days Card -->
        <div style="background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%); padding: 20px; border-radius: 12px; margin: 20px 0;">
          <h4 style="color: #2e7d32; margin-bottom: 15px; text-align: center;">üèÜ ‡∏ß‡∏±‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© - ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏¢‡∏¥‡∏°</h4>
          <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0;">
            <p style="margin: 5px 0; font-size: 1.1em; text-align: center;"><strong>‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà 30 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô</strong></p>
            <p style="margin: 5px 0; font-size: 1.1em; text-align: center;"><strong>‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</strong></p>
          </div>
          <p style="color: #2e7d32; font-weight: 500; text-align: center;">‡∏ß‡∏±‡∏ô‡∏¢‡∏¥‡∏°‡∏õ‡∏Å‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Road to Premier Ball ‡πÅ‡∏ó‡∏ô</p>
          <p style="color: #2e7d32; font-weight: 500; text-align: center;">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏¢‡∏¥‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</p>
        </div>

        <!-- Facebook Post Card -->
        <div style="background: linear-gradient(135deg, #1877f2 0%, #42a5f5 100%); padding: 20px; border-radius: 12px; margin: 20px 0;">
          <h4 style="color: white; margin-bottom: 15px; text-align: center;">üì¢ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h4>
          <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
            <p style="margin: 10px 0; font-size: 1.1em; color: #333;">üì± ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
            <a href="https://www.facebook.com/share/p/1A6RJN9LQ5/" target="_blank" style="text-decoration: none;">
              <button style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; font-size: 1.1em; background: #1877f2; color: white; border: none; border-radius: 8px; cursor: pointer; transition: background 0.3s;">
                üëç <span>‡∏î‡∏π‡πÇ‡∏û‡∏™‡∏ï‡πå Facebook</span>
              </button>
            </a>
            <p style="margin: 10px 0 0 0; font-size: 0.9em; color: #666;">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
          </div>
        </div>

        <!-- Registration Steps Card -->
        <div style="background: #f3e5f5; padding: 20px; border-radius: 12px; margin: 20px 0;">
          <h4 style="color: #7b1fa2; margin-bottom: 15px;">üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</h4>
          <div style="display: grid; gap: 12px;">
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #9c27b0;">
              <strong>1.</strong> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÅ‡∏Ç‡πà‡∏á (29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô ‚Äì 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568)
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #9c27b0;">
              <strong>2.</strong> ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #9c27b0;">
              <strong>3.</strong> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #9c27b0;">
              <strong>4.</strong> ‡∏Å‡∏î‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£
            </div>
          </div>
        </div>

        <!-- Terms and Conditions Card -->
        <div style="background: #ffebee; padding: 20px; border-radius: 12px; margin: 20px 0;">
          <h4 style="color: #c62828; margin-bottom: 15px;">‚ö†Ô∏è ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h4>
          <div style="display: grid; gap: 10px;">
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #f44336;">
              <strong>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£:</strong> 29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô ‚Äì 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #f44336;">
              <strong>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ï‡πâ‡∏°:</strong> ‡∏™‡∏∞‡∏™‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå (‡πÑ‡∏°‡πà‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï)
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #f44336;">
              <strong>‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</strong> ‡πÅ‡∏ï‡πâ‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏´‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            </div>
            <div style="background: white; padding: 12px; border-radius: 8px; border-left: 4px solid #f44336;">
              <strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:</strong> ‡∏°‡∏µ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡∏Ç‡∏≠‡∏™‡∏á‡∏ß‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Contact & Social Quick Actions (Footer) -->
  <footer style="margin-top:40px; padding: 24px 0 12px 0; background: #f7f8fa; border-top: 1.5px solid #e0e7ff;">
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 18px;">
      <a href="https://maps.app.goo.gl/4Lk4CnLN9bKoVW7y6" target="_blank" style="text-decoration:none;">
        <button style="display:flex;align-items:center;gap:8px;padding:12px 20px;font-size:1.1em;background:#2563eb;color:#fff;border:none;border-radius:8px;box-shadow:0 2px 8px #b6c0d1;cursor:pointer;">
          üó∫Ô∏è <span>‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô</span>
        </button>
      </a>
      <a href="https://www.facebook.com/uplevel.acad" target="_blank" style="text-decoration:none;">
        <button style="display:flex;align-items:center;gap:8px;padding:12px 20px;font-size:1.1em;background:#1877f2;color:#fff;border:none;border-radius:8px;box-shadow:0 2px 8px #b6c0d1;cursor:pointer;">
          üëç <span>‡∏î‡∏π‡πÄ‡∏û‡∏à Facebook</span>
        </button>
      </a>
      <a href="https://line.me/ti/g2/uGTOOvPJuCjaxW_ZlJyjroEU7zOqLuBaWw9UaQ?utm_source=invitation&utm_medium=link_copy&utm_campaign=default" target="_blank" style="text-decoration:none;">
        <button style="display:flex;align-items:center;gap:8px;padding:12px 20px;font-size:1.1em;background:#06c755;color:#fff;border:none;border-radius:8px;box-shadow:0 2px 8px #b6c0d1;cursor:pointer;">
          üí¨ <span>‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° LINE OpenChat</span>
        </button>
      </a>
    </div>
    <div style="text-align:center;color:#888;font-size:0.98em;margin-top:18px;">
      Up Level Academy | ‡∏ï‡∏¥‡∏î MRT ‡∏ö‡∏≤‡∏á‡πÅ‡∏Ñ | ‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏î‡∏£‡∏ñ‡∏™‡∏∞‡∏î‡∏ß‡∏Å
    </div>
  </footer>

  <script>
    // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô Road to Premier Ball
    const roadToPremierDates = [
      "‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ó‡∏µ‡πà 29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568",
      "‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà 30 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568 (‡∏ß‡∏±‡∏ô‡∏¢‡∏¥‡∏° + ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°)",
      "‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò‡∏ó‡∏µ‡πà 1 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568",
      "‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ‡∏ó‡∏µ‡πà 2 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568",
      "‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568 (‡∏ß‡∏±‡∏ô‡∏¢‡∏¥‡∏° + ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°)"
    ];

    // ‡∏û‡∏≤‡∏™‡πÄ‡∏ó‡∏• 5 ‡∏™‡∏µ
    const pastelColors = [
      { bg: "#E3F2FD", border: "#42A5F5", th: "#42A5F5" },
      { bg: "#F1F8E9", border: "#7CB342", th: "#7CB342" },
      { bg: "#FCE4EC", border: "#EC407A", th: "#EC407A" },
      { bg: "#E8EAF6", border: "#5C6BC0", th: "#5C6BC0" },
      { bg: "#FFF3E0", border: "#FFB74D", th: "#FFB74D" }
    ];

    // API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Road to Premier Ball
    const roadToPremierApi = "https://script.google.com/macros/s/AKfycbyRImCXj09sIztWDmKrn-LxisZeCdiXV279cQu097CxFPux6Sc2ofFI8eu6aFDHnJui/exec";
    
    // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏à‡∏≤‡∏Å Member Dashboard (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö codename ‡πÅ‡∏•‡∏∞ rank)
    const memberDashboardApi = "https://script.google.com/macros/s/AKfycbxtjsDwHI6nJU4OIHExUxMaZwUn3qwakvdkzwbQO7C8Trzz5Gh84SX6F1gqb4BOFQcn/exec?func=getMemberDashboardData";
    
    const rankEmojis = {
      "Rookie": "üê£", "Rookie II": "üê£", "Rookie III": "üê£", "Rookie IV": "üê£", "Rookie V": "üê£",
      "Bronze": "üõ°Ô∏è", "Bronze II": "üõ°Ô∏è", "Bronze III": "üõ°Ô∏è", "Bronze IV": "üõ°Ô∏è", "Bronze V": "üõ°Ô∏è",
      "Silver": "‚öîÔ∏è", "Silver II": "‚öîÔ∏è", "Silver III": "‚öîÔ∏è", "Silver IV": "‚öîÔ∏è", "Silver V": "‚öîÔ∏è",
      "Gold": "ü•á", "Gold II": "ü•á", "Gold III": "ü•á", "Gold IV": "ü•á", "Gold V": "ü•á",
      "Platinum": "‚ú®", "Platinum II": "‚ú®", "Platinum III": "‚ú®", "Platinum IV": "‚ú®", "Platinum V": "‚ú®",
      "Diamond": "üíé", "Diamond II": "üíé", "Diamond III": "üíé", "Diamond IV": "üíé", "Diamond V": "üíé",
      "Grandmaster": "üëë", "Grandmaster II": "üëë", "Grandmaster III": "üëë", "Grandmaster IV": "üëë", "Grandmaster V": "üëë",
      "Legend": "üêâ", "Legend II": "üêâ", "Legend III": "üêâ", "Legend IV": "üêâ", "Legend V": "üêâ"
    };

    function getBaseRank(rank) {
      if (!rank) return "Rookie";
      const baseRank = rank.replace(/\s+(II|III|IV|V|VI|VII|VIII|IX|X|\d+)$/, '');
      return baseRank || "Rookie";
    }

    function getRankEmoji(rank) {
      if (!rank) return rankEmojis["Rookie"] || "üê£";
      if (rankEmojis[rank]) return rankEmojis[rank];
      const baseRank = getBaseRank(rank);
      return rankEmojis[baseRank] || rankEmojis["Rookie"] || "üê£";
    }

    function parseThaiDate(str) {
      const months = [
        "", "‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå", "‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô", "‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°", "‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô",
        "‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°", "‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô", "‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°", "‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô", "‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"
      ];
      const m = str.match(/(\d{1,2}) (\S+) (\d{4})/);
      if (!m) return null;
      const day = parseInt(m[1], 10);
      const month = months.indexOf(m[2]);
      const year = parseInt(m[3], 10) - 543;
      return new Date(year, month - 1, day);
    }

    function renderCodenameEffect(codename, rank) {
      const chars = ['[', ...codename.split(''), ']'];
      const waveRanks = ['Gold', 'Platinum', 'Diamond', 'Grandmaster', 'Legend'];
      if (waveRanks.includes(rank)) {
        return `<span class="codename wave ${rank.toLowerCase()}">${chars.map((ch,i)=>`<span>${ch}</span>`).join('')}</span>`;
      } else {
        return `<span class="codename">[${codename}]</span>`;
      }
    }

    // Toggle expandable content
    function toggleContent(contentId) {
      const content = document.getElementById(contentId);
      if (content.classList.contains('show')) {
        content.classList.remove('show');
      } else {
        content.classList.add('show');
      }
    }

    // Load data
    Promise.all([
      fetch(memberDashboardApi).then(res => res.json()).catch(err => {
        console.log('Member Dashboard API error:', err);
        return [];
      }),
      roadToPremierApi ? 
        fetch(`${roadToPremierApi}?func=getParticipants`, {
          method: 'GET',
          redirect: 'follow'
        }).then(res => {
          console.log('API Response status:', res.status);
          console.log('API Response URL:', res.url);
          if (!res.ok) {
            throw new Error(`HTTP ${res.status}: ${res.statusText}`);
          }
          return res.json();
        }).catch(err => {
          console.log('Road to Premier Ball API error:', err);
          console.log('Using fallback data instead');
          // ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• fallback ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏µ
          return { 
            status: "success",
            participants: [
              {
                timestamp: "2025-09-28T13:28:44.477Z",
                registrationDate: "‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ó‡∏µ‡πà 29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568",
                fullName: "Nuttawee Kaewmanee",
                nickname: "Boss ‡∏≠‡∏î‡∏ô‡∏≠‡∏ô‡πÄ‡∏î‡∏¢‡πå 1",
                trainerId: "th09371105",
                phone: "0809874092",
                playLevel: "‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà",
                termsConfirmed: "‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£",
                status: "OK",
                points: 0
              },
              {
                timestamp: "2025-09-29T05:55:22.923Z",
                registrationDate: "‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ó‡∏µ‡πà 29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568",
                fullName: "Nawapol Kittitamakul",
                nickname: "‡∏ó‡∏≥‡πÑ‡∏°‡∏£‡πà‡∏≤‡∏á‡πÇ‡∏ï‡∏≠‡∏µ‡∏ß‡∏∏‡∏¢‡∏ä‡∏≠‡∏ö‡∏ï‡∏µ280",
                trainerId: "th55319905",
                phone: "0958683708",
                playLevel: "‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà",
                termsConfirmed: "‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£",
                status: "OK",
                points: 0
              }
            ],
            total: 2
          };
        }) : 
        Promise.resolve({ participants: [] })
    ]).then(([members, roadToPremierData]) => {
      console.log('Road to Premier Ball Data:', roadToPremierData);
      console.log('Participants:', roadToPremierData.participants);
      
      const phoneMap = {};
      if (members && Array.isArray(members)) {
        members.forEach(m => {
          const phone = String(m.phone).replace(/[^\d]/g, "");
          phoneMap[phone] = { codename: m.codename, rank: m.rank };
        });
      }

      let html = '';
      const today = new Date();
      today.setHours(0,0,0,0);

      roadToPremierDates.forEach((date, idx) => {
        // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏à‡∏≤‡∏Å API - ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô
        // ‡πÅ‡∏¢‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô "(‡∏ß‡∏±‡∏ô‡∏¢‡∏¥‡∏° + ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏õ‡∏£‡πÇ‡∏°)")
        const mainDate = date.split(' (')[0]; // ‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö
        const players = roadToPremierData.participants ? 
          roadToPremierData.participants.filter(p => {
            console.log('Checking participant:', p.registrationDate, 'against mainDate:', mainDate);
            return p.registrationDate === mainDate || p.registrationDate === date;
          }) : [];
        
        console.log(`Players for ${date}:`, players);

        const color = pastelColors[idx % pastelColors.length];
        const dateObj = parseThaiDate(date);
        let isPast = false;
        if (dateObj) {
          if (dateObj < today) isPast = true;
        }

        const groupId = `group-${idx}`;
        const toggleBtn = `<button class="toggle-btn" data-group="${groupId}">${isPast ? "‡πÅ‡∏™‡∏î‡∏á" : "‡∏ã‡πà‡∏≠‡∏ô"}</button>`;
        const tableStyle = isPast ? 'style="display:none;"' : '';
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏¢‡∏¥‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        const isGymDay = date.includes('‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà 30 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô') || date.includes('‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°');
        const headerClass = isGymDay ? 'gym-day' : '';
        
        html += `<div class="date-header ${headerClass}" style="background:${color.bg};border-left:6px solid ${color.border};display:flex;justify-content:space-between;align-items:center;">` +
          `<span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${date} (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${players.length} ‡∏Ñ‡∏ô)</span> ${toggleBtn}</div>`;
        
        html += `<table id="${groupId}" ${tableStyle}><thead><tr>
            <th style="background:${color.border};color:#fff;">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
            <th style="background:${color.border};color:#fff;">‡∏ä‡∏∑‡πà‡∏≠</th>
            <th style="background:${color.border};color:#fff;">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</th>
          </tr></thead><tbody>`;
        
        if (players.length === 0) {
          // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ
          const allPlayers = roadToPremierData.participants || [];
          if (allPlayers.length > 0 && idx === 0) {
            html += `<tr><td colspan="3" style="background: #fff3cd; color: #856404; padding: 10px;">üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (${allPlayers.length} ‡∏Ñ‡∏ô):</td></tr>`;
            allPlayers.forEach((player, idx3) => {
              let displayName = `${player.fullName || player.nickname || ''}`;
              let phone = String(player.phone || '').replace(/[^\d]/g, "");
              const profile = phoneMap[phone];
              if (profile && profile.codename && profile.rank) {
                const emoji = getRankEmoji(profile.rank);
                const codenameHtml = renderCodenameEffect(profile.codename, profile.rank);
                displayName += `<br><span class="codename-rank" data-rank="${profile.rank}"><span>${emoji}</span> ${codenameHtml} <span>${emoji}</span></span>`;
              }
              const pointsDisplay = player.points ? ` (${player.points} ‡πÅ‡∏ï‡πâ‡∏°)` : '';
              html += `<tr><td>${idx3 + 1}</td><td>${displayName}</td><td>${player.playLevel || player.level}${pointsDisplay}</td></tr>`;
            });
          } else {
            html += `<tr><td colspan="3">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</td></tr>`;
          }
        } else {
          players.forEach((player, idx2) => {
            let displayName = `${player.fullName || player.nickname || ''}`;
            let phone = String(player.phone || '').replace(/[^\d]/g, "");
            const profile = phoneMap[phone];
            if (profile && profile.codename && profile.rank) {
              const emoji = getRankEmoji(profile.rank);
              const codenameHtml = renderCodenameEffect(profile.codename, profile.rank);
              displayName += `<br><span class="codename-rank" data-rank="${profile.rank}"><span>${emoji}</span> ${codenameHtml} <span>${emoji}</span></span>`;
            }
            // ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ï‡πâ‡∏°‡∏™‡∏∞‡∏™‡∏°‡∏î‡πâ‡∏ß‡∏¢
            const pointsDisplay = player.points ? ` (${player.points} ‡πÅ‡∏ï‡πâ‡∏°)` : '';
            html += `<tr><td>${idx2 + 1}</td><td>${displayName}</td><td>${player.playLevel || player.level}${pointsDisplay}</td></tr>`;
          });
        }
        html += `</tbody></table>`;
      });

      document.getElementById('gymbattle-list').innerHTML = html;

      // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° toggle
      document.querySelectorAll('.toggle-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const groupId = this.getAttribute('data-group');
          const table = document.getElementById(groupId);
          if (table.style.display === "none") {
            table.style.display = "";
            this.textContent = "‡∏ã‡πà‡∏≠‡∏ô";
          } else {
            table.style.display = "none";
            this.textContent = "‡πÅ‡∏™‡∏î‡∏á";
          }
        });
      });
    }).catch(err => {
      console.error('Error loading data:', err);
      // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• fallback ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤ API ‡∏à‡∏∞ error
      const fallbackData = {
        status: "success",
        participants: [
          {
            timestamp: "2025-09-28T13:28:44.477Z",
            registrationDate: "‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ó‡∏µ‡πà 29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568",
            fullName: "Nuttawee Kaewmanee",
            nickname: "Boss ‡∏≠‡∏î‡∏ô‡∏≠‡∏ô‡πÄ‡∏î‡∏¢‡πå 1",
            trainerId: "th09371105",
            phone: "0809874092",
            playLevel: "‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà",
            termsConfirmed: "‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£",
            status: "OK",
            points: 0
          },
          {
            timestamp: "2025-09-29T05:55:22.923Z",
            registrationDate: "‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏ó‡∏µ‡πà 29 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568",
            fullName: "Nawapol Kittitamakul",
            nickname: "‡∏ó‡∏≥‡πÑ‡∏°‡∏£‡πà‡∏≤‡∏á‡πÇ‡∏ï‡∏≠‡∏µ‡∏ß‡∏∏‡∏¢‡∏ä‡∏≠‡∏ö‡∏ï‡∏µ280",
            trainerId: "th55319905",
            phone: "0958683708",
            playLevel: "‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà",
            termsConfirmed: "‡∏â‡∏±‡∏ô‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£",
            status: "OK",
            points: 0
          }
        ],
        total: 2
      };
      
      // ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• fallback
      const phoneMap = {};
      let html = '';
      const today = new Date();
      today.setHours(0,0,0,0);

      roadToPremierDates.forEach((date, idx) => {
        const mainDate = date.split(' (')[0]; // ‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö
        const players = fallbackData.participants.filter(p => p.registrationDate === mainDate || p.registrationDate === date);
        const color = pastelColors[idx % pastelColors.length];
        const dateObj = parseThaiDate(date);
        let isPast = false;
        if (dateObj) {
          if (dateObj < today) isPast = true;
        }

        const groupId = `group-${idx}`;
        const toggleBtn = `<button class="toggle-btn" data-group="${groupId}">${isPast ? "‡πÅ‡∏™‡∏î‡∏á" : "‡∏ã‡πà‡∏≠‡∏ô"}</button>`;
        const tableStyle = isPast ? 'style="display:none;"' : '';
        
        const isGymDay = date.includes('‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏ó‡∏µ‡πà 30 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô') || date.includes('‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏ó‡∏µ‡πà 3 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°');
        const headerClass = isGymDay ? 'gym-day' : '';
        
        html += `<div class="date-header ${headerClass}" style="background:${color.bg};border-left:6px solid ${color.border};display:flex;justify-content:space-between;align-items:center;">` +
          `<span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${date} (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${players.length} ‡∏Ñ‡∏ô)</span> ${toggleBtn}</div>`;
        
        html += `<table id="${groupId}" ${tableStyle}><thead><tr>
            <th style="background:${color.border};color:#fff;">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
            <th style="background:${color.border};color:#fff;">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</th>
            <th style="background:${color.border};color:#fff;">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</th>
          </tr></thead><tbody>`;
        
        if (players.length === 0) {
          html += `<tr><td colspan="3">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</td></tr>`;
        } else {
          players.forEach((player, idx2) => {
            let displayName = player.nickname;
            let phone = String(player.phone || '').replace(/[^\d]/g, "");
            const profile = phoneMap[phone];
            if (profile && profile.codename && profile.rank) {
              const emoji = getRankEmoji(profile.rank);
              const codenameHtml = renderCodenameEffect(profile.codename, profile.rank);
              displayName += `<br><span class="codename-rank" data-rank="${profile.rank}"><span>${emoji}</span> ${codenameHtml} <span>${emoji}</span></span>`;
            }
            const pointsDisplay = player.points ? ` (${player.points} ‡πÅ‡∏ï‡πâ‡∏°)` : '';
            html += `<tr><td>${idx2 + 1}</td><td>${displayName}</td><td>${player.playLevel || player.level}${pointsDisplay}</td></tr>`;
          });
        }
        html += `</tbody></table>`;
      });

      document.getElementById('gymbattle-list').innerHTML = html;

      // ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° toggle
      document.querySelectorAll('.toggle-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const groupId = this.getAttribute('data-group');
          const table = document.getElementById(groupId);
          if (table.style.display === "none") {
            table.style.display = "";
            this.textContent = "‡∏ã‡πà‡∏≠‡∏ô";
          } else {
            table.style.display = "none";
            this.textContent = "‡πÅ‡∏™‡∏î‡∏á";
          }
        });
      });
    });
  </script>
</body>
</html>