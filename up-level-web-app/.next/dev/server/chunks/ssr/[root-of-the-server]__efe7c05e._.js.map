{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/chawanutcharoenthammachoke/Documents/Cursor/up-level-leaderboard/up-level-web-app/src/components/MobileNav.tsx"],"sourcesContent":["'use client';\n\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport { Home, Map, ScrollText, Users, ShoppingBag } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\nexport default function MobileNav() {\n    const pathname = usePathname();\n\n    // Hide nav on login page if desired or keep it\n    if (pathname === '/') return null;\n\n    const navItems = [\n        { name: 'Home', href: '/dashboard', icon: Home, color: 'text-sky-400' },\n        { name: 'Map', href: '/map', icon: Map, color: 'text-green-400' },\n        { name: 'Quests', href: '/quests', icon: ScrollText, color: 'text-yellow-400' },\n        { name: 'Party', href: '/party', icon: Users, color: 'text-pink-400' },\n        { name: 'Shop', href: '/shop', icon: ShoppingBag, color: 'text-purple-400' },\n    ];\n\n    return (\n        <div className=\"fixed bottom-0 left-0 w-full z-50 px-4 pb-4 pt-2\">\n            <div className=\"glass-card flex justify-around items-center py-3 px-2 max-w-md mx-auto border-none bg-white/10 backdrop-blur-xl shadow-lg ring-1 ring-white/20 rounded-3xl\">\n                {navItems.map((item) => {\n                    const isActive = pathname === item.href;\n                    return (\n                        <Link\n                            key={item.name}\n                            href={item.href}\n                            className=\"relative flex flex-col items-center gap-1 min-w-[60px]\"\n                        >\n                            {isActive && (\n                                <motion.div\n                                    layoutId=\"activeTab\"\n                                    className=\"absolute -top-3 w-10 h-10 bg-white/10 rounded-full blur-md\"\n                                    initial={{ opacity: 0 }}\n                                    animate={{ opacity: 1 }}\n                                    transition={{ duration: 0.3 }}\n                                />\n                            )}\n\n                            <div className={`p-2 rounded-xl transition-all duration-300 ${isActive ? 'bg-white/15 scale-110 shadow-inner' : 'hover:bg-white/5'}`}>\n                                <item.icon\n                                    className={`w-6 h-6 transition-all duration-300 ${isActive ? item.color : 'text-gray-400'}`}\n                                    strokeWidth={isActive ? 2.5 : 2}\n                                    fill={isActive ? \"currentColor\" : \"none\"}\n                                    fillOpacity={0.2}\n                                />\n                            </div>\n\n                            <span className={`text-[10px] font-bold tracking-wide transition-colors duration-300 ${isActive ? 'text-white' : 'text-gray-500'}`}>\n                                {item.name}\n                            </span>\n                        </Link>\n                    );\n                })}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,WAAW,IAAA,mOAAW;IAE5B,+CAA+C;IAC/C,IAAI,aAAa,KAAK,OAAO;IAE7B,MAAM,WAAW;QACb;YAAE,MAAM;YAAQ,MAAM;YAAc,MAAM,6RAAI;YAAE,OAAO;QAAe;QACtE;YAAE,MAAM;YAAO,MAAM;YAAQ,MAAM,yRAAG;YAAE,OAAO;QAAiB;QAChE;YAAE,MAAM;YAAU,MAAM;YAAW,MAAM,kTAAU;YAAE,OAAO;QAAkB;QAC9E;YAAE,MAAM;YAAS,MAAM;YAAU,MAAM,+RAAK;YAAE,OAAO;QAAgB;QACrE;YAAE,MAAM;YAAQ,MAAM;YAAS,MAAM,qTAAW;YAAE,OAAO;QAAkB;KAC9E;IAED,qBACI,gUAAC;QAAI,WAAU;kBACX,cAAA,gUAAC;YAAI,WAAU;sBACV,SAAS,GAAG,CAAC,CAAC;gBACX,MAAM,WAAW,aAAa,KAAK,IAAI;gBACvC,qBACI,gUAAC,yPAAI;oBAED,MAAM,KAAK,IAAI;oBACf,WAAU;;wBAET,0BACG,gUAAC,oPAAM,CAAC,GAAG;4BACP,UAAS;4BACT,WAAU;4BACV,SAAS;gCAAE,SAAS;4BAAE;4BACtB,SAAS;gCAAE,SAAS;4BAAE;4BACtB,YAAY;gCAAE,UAAU;4BAAI;;;;;;sCAIpC,gUAAC;4BAAI,WAAW,CAAC,2CAA2C,EAAE,WAAW,uCAAuC,oBAAoB;sCAChI,cAAA,gUAAC,KAAK,IAAI;gCACN,WAAW,CAAC,oCAAoC,EAAE,WAAW,KAAK,KAAK,GAAG,iBAAiB;gCAC3F,aAAa,WAAW,MAAM;gCAC9B,MAAM,WAAW,iBAAiB;gCAClC,aAAa;;;;;;;;;;;sCAIrB,gUAAC;4BAAK,WAAW,CAAC,mEAAmE,EAAE,WAAW,eAAe,iBAAiB;sCAC7H,KAAK,IAAI;;;;;;;mBAxBT,KAAK,IAAI;;;;;YA4B1B;;;;;;;;;;;AAIhB"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///Users/chawanutcharoenthammachoke/Documents/Cursor/up-level-leaderboard/up-level-web-app/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, FirebaseApp } from \"firebase/app\";\nimport { getAuth, Auth } from \"firebase/auth\";\nimport { getFirestore, Firestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase only if config is present and valid-ish\nlet app: FirebaseApp | undefined;\nlet auth: Auth | undefined;\nlet db: Firestore | undefined;\n\ntry {\n    // Check if critical keys exist to avoid crash\n    if (firebaseConfig.apiKey && firebaseConfig.projectId) {\n        app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\n        auth = getAuth(app);\n        db = getFirestore(app);\n    } else {\n        console.warn(\"Firebase Config missing or incomplete. Auth disabled.\");\n    }\n} catch (e) {\n    console.error(\"Firebase Initialization Error:\", e);\n}\n\n// Export as potentially undefined, consumer must handle\nexport { auth, db };\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,8DAA8D;AAC9D,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,IAAI;IACA,8CAA8C;IAC9C,IAAI,eAAe,MAAM,IAAI,eAAe,SAAS,EAAE;QACnD,MAAM,IAAA,6PAAO,IAAG,MAAM,KAAK,IAAI,IAAA,mQAAa,EAAC,kBAAkB,IAAA,6PAAO,GAAE,CAAC,EAAE;QAC3E,OAAO,IAAA,+PAAO,EAAC;QACf,KAAK,IAAA,mQAAY,EAAC;IACtB,OAAO;QACH,QAAQ,IAAI,CAAC;IACjB;AACJ,EAAE,OAAO,GAAG;IACR,QAAQ,KAAK,CAAC,kCAAkC;AACpD"}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/chawanutcharoenthammachoke/Documents/Cursor/up-level-leaderboard/up-level-web-app/src/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport {\n    onAuthStateChanged,\n    signInWithPopup,\n    GoogleAuthProvider,\n    FacebookAuthProvider,\n    signOut as firebaseSignOut,\n    User\n} from 'firebase/auth';\nimport { auth, db } from '@/lib/firebase';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\n\ninterface AuthContextType {\n    user: User | null;\n    loading: boolean;\n    signInWithGoogle: () => Promise<void>;\n    signInWithFacebook: () => Promise<void>;\n    signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthContextProvider = ({ children }: { children: React.ReactNode }) => {\n    const [user, setUser] = useState<User | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        if (!auth) {\n            // Mock auth for guest mode if keys are missing\n            console.warn(\"Auth not initialized (missing keys). Using Guest Mode.\");\n            setLoading(false);\n            return;\n        }\n\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n            setUser(currentUser);\n            setLoading(false);\n        });\n        return () => unsubscribe();\n    }, []);\n\n    const signInWithGoogle = async () => {\n        if (!auth || !db) {\n            alert(\"No Firebase API Keys found! Check console.\");\n            return;\n        }\n\n        const provider = new GoogleAuthProvider();\n        try {\n            const result = await signInWithPopup(auth, provider);\n            const user = result.user;\n\n            // Check if user exists in Firestore\n            const userRef = doc(db, 'users', user.uid);\n            const userSnap = await getDoc(userRef);\n\n            if (!userSnap.exists()) {\n                // Create new user profile if not exists\n                await setDoc(userRef, {\n                    uid: user.uid,\n                    displayName: user.displayName,\n                    email: user.email,\n                    photoURL: user.photoURL,\n                    rank: 'Rookie',\n                    exp: 0,\n                    coins: 100, // Welcome bonus\n                    partyId: null,\n                    createdAt: new Date()\n                });\n                console.log(\"New adventurer registered!\");\n            }\n        } catch (error) {\n            console.error(\"Error signing in with Google\", error);\n            alert(\"Login Failed: \" + (error as any).message);\n        }\n    };\n\n    const signInWithFacebook = async () => {\n        if (!auth || !db) {\n            alert(\"No Firebase Keys! Cannot login with Facebook real account.\");\n            return;\n        }\n        const provider = new FacebookAuthProvider();\n        try {\n            const result = await signInWithPopup(auth, provider);\n            const user = result.user;\n\n            // Check if user exists in Firestore\n            const userRef = doc(db, 'users', user.uid);\n            const userSnap = await getDoc(userRef);\n\n            if (!userSnap.exists()) {\n                // Create new user profile\n                await setDoc(userRef, {\n                    uid: user.uid,\n                    displayName: user.displayName || 'Facebook Adventurer',\n                    email: user.email,\n                    photoURL: user.photoURL,\n                    rank: 'Rookie',\n                    exp: 0,\n                    coins: 100, // Welcome bonus\n                    partyId: null,\n                    createdAt: new Date()\n                });\n            }\n        } catch (error) {\n            console.error(\"Error signing in with Facebook\", error);\n            alert(\"Facebook Login Failed: \" + (error as any).message);\n        }\n    };\n\n    const signOut = async () => {\n        if (!auth) {\n            setUser(null);\n            return;\n        }\n        try {\n            await firebaseSignOut(auth);\n        } catch (error) {\n            console.error(\"Error signing out\", error);\n        }\n    };\n\n    return (\n        <AuthContext.Provider value={{ user, loading, signInWithGoogle, signInWithFacebook, signOut }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAQA;AACA;AAAA;AAZA;;;;;;AAsBA,MAAM,4BAAc,IAAA,wSAAa,EAAkB,CAAC;AAE7C,MAAM,UAAU,IAAM,IAAA,qSAAU,EAAC;AAEjC,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAiC;IAC3E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mSAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mSAAQ,EAAC;IAEvC,IAAA,oSAAS,EAAC;QACN,IAAI,CAAC,gNAAI,EAAE;YACP,+CAA+C;YAC/C,QAAQ,IAAI,CAAC;YACb,WAAW;YACX;QACJ;QAEA,MAAM,cAAc,IAAA,0QAAkB,EAAC,gNAAI,EAAE,CAAC;YAC1C,QAAQ;YACR,WAAW;QACf;QACA,OAAO,IAAM;IACjB,GAAG,EAAE;IAEL,MAAM,mBAAmB;QACrB,IAAI,CAAC,gNAAI,IAAI,CAAC,8MAAE,EAAE;YACd,MAAM;YACN;QACJ;QAEA,MAAM,WAAW,IAAI,0QAAkB;QACvC,IAAI;YACA,MAAM,SAAS,MAAM,IAAA,uQAAe,EAAC,gNAAI,EAAE;YAC3C,MAAM,OAAO,OAAO,IAAI;YAExB,oCAAoC;YACpC,MAAM,UAAU,IAAA,0PAAG,EAAC,8MAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,WAAW,MAAM,IAAA,6PAAM,EAAC;YAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;gBACpB,wCAAwC;gBACxC,MAAM,IAAA,6PAAM,EAAC,SAAS;oBAClB,KAAK,KAAK,GAAG;oBACb,aAAa,KAAK,WAAW;oBAC7B,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;oBACvB,MAAM;oBACN,KAAK;oBACL,OAAO;oBACP,SAAS;oBACT,WAAW,IAAI;gBACnB;gBACA,QAAQ,GAAG,CAAC;YAChB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,MAAM,mBAAmB,AAAC,MAAc,OAAO;QACnD;IACJ;IAEA,MAAM,qBAAqB;QACvB,IAAI,CAAC,gNAAI,IAAI,CAAC,8MAAE,EAAE;YACd,MAAM;YACN;QACJ;QACA,MAAM,WAAW,IAAI,4QAAoB;QACzC,IAAI;YACA,MAAM,SAAS,MAAM,IAAA,uQAAe,EAAC,gNAAI,EAAE;YAC3C,MAAM,OAAO,OAAO,IAAI;YAExB,oCAAoC;YACpC,MAAM,UAAU,IAAA,0PAAG,EAAC,8MAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,WAAW,MAAM,IAAA,6PAAM,EAAC;YAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;gBACpB,0BAA0B;gBAC1B,MAAM,IAAA,6PAAM,EAAC,SAAS;oBAClB,KAAK,KAAK,GAAG;oBACb,aAAa,KAAK,WAAW,IAAI;oBACjC,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;oBACvB,MAAM;oBACN,KAAK;oBACL,OAAO;oBACP,SAAS;oBACT,WAAW,IAAI;gBACnB;YACJ;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,kCAAkC;YAChD,MAAM,4BAA4B,AAAC,MAAc,OAAO;QAC5D;IACJ;IAEA,MAAM,UAAU;QACZ,IAAI,CAAC,gNAAI,EAAE;YACP,QAAQ;YACR;QACJ;QACA,IAAI;YACA,MAAM,IAAA,+PAAe,EAAC,gNAAI;QAC9B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,qBAAqB;QACvC;IACJ;IAEA,qBACI,gUAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAkB;YAAoB;QAAQ;kBACvF;;;;;;AAGb"}}]
}