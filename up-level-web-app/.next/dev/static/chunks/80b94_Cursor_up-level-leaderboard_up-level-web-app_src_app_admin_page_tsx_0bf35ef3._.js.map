{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chawanutcharoenthammachoke/Documents/Cursor/up-level-leaderboard/up-level-web-app/src/app/admin/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport { collection, doc, writeBatch, query, orderBy, limit, onSnapshot, getDocs, Timestamp, getDoc, deleteDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport {\n    Zap, Users, Shield, Activity,\n    Search, X, Check, History,\n    RefreshCw, Settings, Link as LinkIcon, AlertCircle, Phone, Sparkles\n} from 'lucide-react';\n\n// --- Types ---\ninterface UserData {\n    id: string;\n    displayName: string;\n    phone?: string;\n    exp: number;\n    rank: string;\n    partyId?: string;\n    photoURL?: string;\n    email?: string;\n}\n\ninterface LogEntry {\n    id: string;\n    timestamp: any;\n    adminName: string;\n    action: string;\n    details: string;\n}\n\ninterface ClaimRequest {\n    id: string; // user uid\n    uid: string;\n    email: string;\n    currentDisplayName: string;\n    profileImage: string;\n    requestedPhone: string;\n    legacyData: {\n        codename: string;\n        exp: number;\n        rank: string;\n        party: string;\n        phone: string;\n    };\n    status: string;\n    createdAt: string;\n}\n\n// --- Config ---\nconst ACTIVITY_LIST = [\n    { id: 'gym_visit', label: '1. ‡∏°‡∏≤ Gym / ‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠ Rank', exp: 1 },\n    { id: 'gym_win1', label: '2. ‡∏ä‡∏ô‡∏∞ 2 ‡∏£‡∏≠‡∏ö (‡∏¢‡πà‡∏≠‡∏¢)', exp: 1 },\n    { id: 'gym_win2', label: '3. ‡∏ä‡∏ô‡∏∞ 4 ‡∏£‡∏≠‡∏ö (Match)', exp: 2 },\n    { id: 'gym_top1', label: '4. ‡∏ó‡∏µ‡πà 1 Gym Tournament', exp: 3 },\n    { id: 'quest_photo', label: '5. ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ', exp: 1 },\n    { id: 'quest_review', label: '6. ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á', exp: 2 },\n    { id: 'shop_support', label: '7. ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô (>1,500)', exp: 5 },\n    { id: 'shop_preorder', label: '8. Pre-order Box', exp: 5 },\n];\n\nconst RANK_THRESHOLDS = [\n    { min: 200, name: 'Legend' }, { min: 120, name: 'Grandmaster' },\n    { min: 75, name: 'Diamond' }, { min: 50, name: 'Platinum' },\n    { min: 30, name: 'Gold' }, { min: 15, name: 'Silver' },\n    { min: 5, name: 'Bronze' }, { min: 0, name: 'Rookie' }\n];\n\nexport default function AdminControlPanel() {\n    const { user, loading } = useAuth();\n    const router = useRouter();\n\n    // Data\n    const [users, setUsers] = useState<UserData[]>([]);\n    const [logs, setLogs] = useState<LogEntry[]>([]);\n    const [claimRequests, setClaimRequests] = useState<ClaimRequest[]>([]);\n\n    // Overview Data\n    const [legacyCount, setLegacyCount] = useState(0);\n    const [legacyUsers, setLegacyUsers] = useState<any[]>([]);\n\n    // Navigation Tabs\n    const [activeTab, setActiveTab] = useState<'OVERVIEW' | 'MANAGE' | 'REQUESTS'>('OVERVIEW');\n\n    // State for Flow (Manage Tab)\n    const [stage, setStage] = useState<'IDLE' | 'ADMIN_NAME' | 'SELECT_ACT' | 'SELECT_USER' | 'CONFIRM' | 'SUCCESS' | 'SYNC_CONFIG'>('IDLE');\n    const [menuType, setMenuType] = useState<'ACTIVITY' | 'MANUAL' | 'SYNC' | null>(null);\n\n    // Data Inputs\n    const [adminName, setAdminName] = useState('');\n    const [selectedAct, setSelectedAct] = useState<any>(null);\n    const [manualExp, setManualExp] = useState(0);\n    const [manualReason, setManualReason] = useState('');\n    const [targetUser, setTargetUser] = useState<UserData | null>(null);\n    const [prevAdminName, setPrevAdminName] = useState('');\n\n    // Sync Settings\n    const [scriptUrl, setScriptUrl] = useState('');\n    const [isSyncing, setIsSyncing] = useState(false);\n    const [syncStatus, setSyncStatus] = useState('');\n\n    // Request Processing\n    const [processingReqId, setProcessingReqId] = useState<string | null>(null);\n\n    // Search\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isProcessing, setIsProcessing] = useState(false);\n\n    // --- Init ---\n    useEffect(() => {\n        if (!loading) {\n            if (!user) router.push('/');\n            else {\n                const savedName = localStorage.getItem('adminName');\n                const savedUrl = localStorage.getItem('scriptUrl');\n                if (savedName) setPrevAdminName(savedName);\n                if (savedUrl) setScriptUrl(savedUrl);\n\n                // Fetch Users\n                getDocs(query(collection(db, 'users'))).then(snap => {\n                    setUsers(snap.docs.map(d => ({ id: d.id, ...d.data() } as UserData)));\n                });\n\n                // Fetch Legacy Overview\n                const legacyUnsub = onSnapshot(query(collection(db, 'legacy_users')), (snap) => {\n                    setLegacyCount(snap.size);\n                    setLegacyUsers(snap.docs.map(d => ({ id: d.id, ...d.data() })));\n                });\n\n                // Real-time Logs\n                const logUnsub = onSnapshot(query(collection(db, 'admin_logs'), orderBy('timestamp', 'desc'), limit(10)), (snap) => {\n                    setLogs(snap.docs.map(d => ({ id: d.id, ...d.data() } as LogEntry)));\n                });\n\n                // Real-time Claim Requests\n                const reqUnsub = onSnapshot(query(collection(db, 'claim_requests')), (snap) => {\n                    setClaimRequests(snap.docs.map(d => ({ id: d.id, ...d.data() } as ClaimRequest)));\n                });\n\n                return () => { logUnsub(); reqUnsub(); legacyUnsub(); };\n            }\n        }\n    }, [user, loading, router]);\n\n    // --- Logic ---\n    const calculateRank = (exp: number) => RANK_THRESHOLDS.find(r => exp >= r.min)?.name || 'Rookie';\n\n    const startFlow = (type: 'ACTIVITY' | 'MANUAL') => {\n        setMenuType(type);\n        setAdminName(prevAdminName);\n        setStage(prevAdminName ? 'SELECT_ACT' : 'ADMIN_NAME');\n        if (type === 'MANUAL') setSelectedAct({ label: 'Manual Adjustment', exp: 0 });\n    };\n\n    const handleNextStep = () => {\n        if (stage === 'ADMIN_NAME') {\n            if (!adminName.trim()) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô');\n            localStorage.setItem('adminName', adminName);\n            setPrevAdminName(adminName);\n            setStage(menuType === 'ACTIVITY' ? 'SELECT_ACT' : 'SELECT_USER');\n        }\n        else if (stage === 'SELECT_ACT') {\n            if (!selectedAct) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°');\n            setStage('SELECT_USER');\n        }\n        else if (stage === 'SELECT_USER') {\n            if (!targetUser) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å');\n            setStage('CONFIRM');\n        }\n    };\n\n    const handleExecute = async () => {\n        if (!targetUser) return;\n        setIsProcessing(true);\n\n        try {\n            const batch = writeBatch(db);\n            const timestamp = Timestamp.now();\n            let expChange = 0;\n            let details = '';\n\n            if (menuType === 'ACTIVITY') {\n                expChange = selectedAct.exp;\n                details = `Activity: ${selectedAct.label}`;\n            } else if (menuType === 'MANUAL') {\n                expChange = manualExp;\n                details = `Manual: ${manualReason}`;\n            }\n\n            const newExp = Math.max(0, targetUser.exp + expChange);\n            const newRank = calculateRank(newExp);\n\n            // Update Firestore\n            const userRef = doc(db, 'users', targetUser.id);\n            batch.update(userRef, { exp: newExp, rank: newRank });\n\n            // Create Log\n            const logRef = doc(collection(db, 'admin_logs'));\n            batch.set(logRef, {\n                timestamp,\n                adminName: adminName || 'Unknown',\n                action: menuType === 'ACTIVITY' ? 'Add EXP' : 'Manual Edit',\n                details: `${targetUser.displayName} (${expChange > 0 ? '+' : ''}${expChange} EXP) - ${details}`,\n                targetId: targetUser.id\n            });\n\n            await batch.commit();\n            setStage('SUCCESS');\n\n            // Update Mock Sync\n            setUsers(prev => prev.map(u => u.id === targetUser.id ? { ...u, exp: newExp, rank: newRank } : u));\n\n            setTimeout(() => {\n                setStage('IDLE');\n                setTargetUser(null);\n                setSelectedAct(null);\n                setManualExp(0);\n                setSearchTerm('');\n            }, 1500);\n\n        } catch (e) {\n            alert('Error: ' + e);\n        } finally {\n            setIsProcessing(false);\n        }\n    };\n\n    // --- Claim Approval Logic ---\n    const handleApproveClaim = async (req: ClaimRequest) => {\n        if (!confirm(`Are you sure you want to approve ${req.currentDisplayName} for phone ${req.requestedPhone}?`)) return;\n        setProcessingReqId(req.id);\n\n        try {\n            const batch = writeBatch(db);\n            const userRef = doc(db, 'users', req.uid);\n            const requestRef = doc(db, 'claim_requests', req.id);\n            const legacyRef = doc(db, 'legacy_users', req.requestedPhone);\n\n            // 1. Update User with Legacy Data\n            batch.update(userRef, {\n                rank: req.legacyData.rank,\n                exp: req.legacyData.exp,\n                party: req.legacyData.party || '',\n                phone: req.requestedPhone,\n                codename: req.legacyData.codename || '',\n                isLegacyLinked: true,\n                lastSynced: new Date().toISOString()\n            });\n\n            // 2. Delete Request\n            batch.delete(requestRef);\n\n            // 3. Delete Legacy Record (to keep track of what's left)\n            batch.delete(legacyRef);\n\n            await batch.commit();\n            alert('‚úÖ Request Approved!');\n        } catch (e: any) {\n            alert('Error approving: ' + e.message);\n        } finally {\n            setProcessingReqId(null);\n        }\n    };\n\n    const handleRejectClaim = async (reqId: string) => {\n        if (!confirm('Reject this request?')) return;\n        setProcessingReqId(reqId);\n        try {\n            await deleteDoc(doc(db, 'claim_requests', reqId));\n            alert('‚ùå Request Rejected');\n        } catch (e: any) {\n            alert('Error rejecting: ' + e.message);\n        } finally {\n            setProcessingReqId(null);\n        }\n    };\n\n    if (loading) return <div className=\"h-screen bg-slate-900 grid place-items-center text-white\">Loading...</div>;\n\n    return (\n        <div className=\"min-h-screen bg-slate-900 text-slate-100 font-sans pb-20\">\n\n            {/* Navbar */}\n            <div className=\"bg-slate-800 p-4 shadow-md sticky top-0 z-20\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h1 className=\"font-bold text-lg flex items-center gap-2\">\n                        <Shield className=\"text-blue-500\" /> Admin Panel\n                    </h1>\n                    <button onClick={() => router.push('/dashboard')} className=\"text-sm text-slate-400 font-bold hover:text-white\">EXIT</button>\n                </div>\n\n                {/* Tags */}\n                <div className=\"flex gap-2 bg-slate-900/50 p-1 rounded-lg overflow-x-auto\">\n                    <button\n                        onClick={() => setActiveTab('OVERVIEW')}\n                        className={`flex-1 py-2 px-3 rounded-md text-sm font-bold transition-all whitespace-nowrap ${activeTab === 'OVERVIEW' ? 'bg-slate-700 text-white shadow' : 'text-slate-500 hover:text-gray-300'}`}\n                    >\n                        Overview\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('MANAGE')}\n                        className={`flex-1 py-2 px-3 rounded-md text-sm font-bold transition-all whitespace-nowrap ${activeTab === 'MANAGE' ? 'bg-slate-700 text-white shadow' : 'text-slate-500 hover:text-gray-300'}`}\n                    >\n                        Manage\n                    </button>\n                    <button\n                        onClick={() => setActiveTab('REQUESTS')}\n                        className={`flex-1 py-2 px-3 rounded-md text-sm font-bold transition-all whitespace-nowrap relative ${activeTab === 'REQUESTS' ? 'bg-slate-700 text-white shadow' : 'text-slate-500 hover:text-gray-300'}`}\n                    >\n                        Requests\n                        {claimRequests.length > 0 && (\n                            <span className=\"absolute top-1 right-1 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center\">\n                                {claimRequests.length}\n                            </span>\n                        )}\n                    </button>\n                </div>\n            </div>\n\n            {/* --- TAB: OVERVIEW --- */}\n            {activeTab === 'OVERVIEW' && (\n                <div className=\"max-w-md mx-auto p-6 space-y-6 animate-in fade-in slide-in-from-left-4 duration-300\">\n\n                    {/* Stats Cards */}\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"bg-blue-900/30 border border-blue-500/30 p-4 rounded-xl\">\n                            <div className=\"text-blue-400 text-xs font-bold uppercase mb-1\">Total Users (Claimed)</div>\n                            <div className=\"text-3xl font-black text-white\">{users.filter(u => u.phone).length}</div>\n                            <div className=\"text-[10px] text-blue-300 mt-1\">Real accounts synced</div>\n                        </div>\n                        <div className=\"bg-slate-800 border border-slate-700 p-4 rounded-xl\">\n                            <div className=\"text-slate-400 text-xs font-bold uppercase mb-1\">Waiting to Claim</div>\n                            <div className=\"text-3xl font-black text-slate-200\">{legacyCount}</div>\n                            <div className=\"text-[10px] text-slate-500 mt-1\">From Google Sheet</div>\n                        </div>\n                    </div>\n\n                    {/* Unclaimed List Preview */}\n                    <div className=\"bg-slate-800 rounded-xl overflow-hidden border border-slate-700 shadow-lg\">\n                        <div className=\"p-4 bg-slate-900/50 border-b border-slate-700 font-bold text-sm text-slate-300 flex items-center justify-between\">\n                            <span>Unclaimed Users</span>\n                            <span className=\"text-xs text-slate-500\">{legacyCount} records</span>\n                        </div>\n                        <div className=\"max-h-80 overflow-y-auto divide-y divide-slate-700/50\">\n                            {legacyUsers.slice(0, 50).map((u, i) => (\n                                <div key={i} className=\"p-3 flex justify-between items-center hover:bg-slate-700/30 transition-colors\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className=\"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-400 shrink-0\">\n                                            {u.codename?.charAt(0) || '?'}\n                                        </div>\n                                        <div className=\"overflow-hidden\">\n                                            <div className=\"text-xs font-bold text-slate-200 truncate w-32\">{u.codename || 'Unknown'}</div>\n                                            <div className=\"text-[10px] text-slate-500 font-mono\">{u.phone || u.id}</div>\n                                        </div>\n                                    </div>\n                                    <span className=\"text-xs font-mono text-yellow-500/80 bg-yellow-500/10 px-2 py-1 rounded\">{u.exp} XP</span>\n                                </div>\n                            ))}\n                            {legacyUsers.length === 0 && (\n                                <div className=\"p-8 text-center text-slate-500 text-xs\">\n                                    All users claimed! üéâ\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"p-2 text-center text-[10px] text-slate-500 bg-slate-900/30\">\n                            * Displaying top 50 unclaimed records\n                        </div>\n                    </div>\n\n                </div>\n            )}\n\n            {/* --- TAB: MANAGE EXP --- */}\n            {activeTab === 'MANAGE' && (\n                <div className=\"max-w-md mx-auto p-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300\">\n\n                    {prevAdminName && (\n                        <div className=\"flex justify-between items-center bg-slate-800/50 p-3 rounded-lg border border-slate-700\">\n                            <div className=\"text-xs text-slate-400\">Current Admin:</div>\n                            <div className=\"font-bold text-blue-400 flex items-center gap-2\">\n                                {prevAdminName}\n                                <button onClick={() => { setPrevAdminName(''); setAdminName(''); localStorage.removeItem('adminName'); }} className=\"p-1 hover:bg-slate-700 rounded\"><X className=\"w-3 h-3 text-slate-500\" /></button>\n                            </div>\n                        </div>\n                    )}\n\n                    <div className=\"grid grid-cols-1 gap-4\">\n                        <button onClick={() => startFlow('ACTIVITY')} className=\"h-24 bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl flex items-center justify-center gap-3 shadow-lg active:scale-95 transition-transform border border-blue-500/20\">\n                            <Zap className=\"w-8 h-8 text-white\" />\n                            <div className=\"text-left text-white\">\n                                <div className=\"font-bold text-lg\">‡πÄ‡∏û‡∏¥‡πà‡∏° EXP ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</div>\n                                <div className=\"text-xs opacity-70\">Add Activity EXP</div>\n                            </div>\n                        </button>\n\n                        <button onClick={() => startFlow('MANUAL')} className=\"h-20 bg-slate-800 border border-slate-700 rounded-xl flex items-center justify-center gap-3 hover:bg-slate-750 active:scale-95 transition-transform p-4\">\n                            <Activity className=\"w-6 h-6 text-green-400\" />\n                            <div className=\"text-left\">\n                                <div className=\"font-bold\">‡πÄ‡∏û‡∏¥‡πà‡∏° EXP Manual</div>\n                                <div className=\"text-xs text-slate-500\">‡∏Å‡∏£‡∏ì‡∏µ‡∏û‡∏¥‡πÄ‡∏®‡∏© / ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</div>\n                            </div>\n                        </button>\n                    </div>\n\n                    {/* Logs */}\n                    <div className=\"mt-8\">\n                        <h3 className=\"text-sm font-bold text-slate-500 uppercase mb-3 flex items-center gap-2\">\n                            <History className=\"w-4 h-4\" /> Recent Logs\n                        </h3>\n                        <div className=\"space-y-2\">\n                            {logs.map(log => (\n                                <div key={log.id} className=\"text-xs bg-slate-800 p-3 rounded border-l-2 border-blue-500\">\n                                    <div className=\"flex justify-between text-slate-500 mb-1\">\n                                        <span>{log.adminName}</span>\n                                        <span>{log.timestamp?.toDate().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>\n                                    </div>\n                                    <div className=\"text-slate-300\">{log.details}</div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* --- TAB: REQUESTS --- */}\n            {activeTab === 'REQUESTS' && (\n                <div className=\"max-w-md mx-auto p-6 space-y-4 animate-in fade-in slide-in-from-right-4 duration-300\">\n                    <h2 className=\"font-bold text-white flex items-center gap-2\">\n                        <AlertCircle className=\"w-5 h-5 text-yellow-500\" />\n                        Verification Requests ({claimRequests.length})\n                    </h2>\n\n                    {claimRequests.length === 0 ? (\n                        <div className=\"text-center py-10 text-slate-500 bg-slate-800/50 rounded-xl border border-dashed border-slate-700\">\n                            No pending requests.\n                        </div>\n                    ) : (\n                        claimRequests.map(req => (\n                            <div key={req.id} className=\"bg-slate-800 rounded-xl p-4 border border-slate-700 shadow-md\">\n                                <div className=\"flex items-start gap-3 border-b border-slate-700 pb-3 mb-3\">\n                                    <img src={req.profileImage || `https://ui-avatars.com/api/?name=${req.currentDisplayName}`} className=\"w-10 h-10 rounded-full bg-slate-700\" />\n                                    <div>\n                                        <div className=\"font-bold text-white text-sm\">{req.currentDisplayName}</div>\n                                        <div className=\"text-xs text-slate-400\">{req.email}</div>\n                                    </div>\n                                    <div className=\"ml-auto px-2 py-1 bg-yellow-500/20 text-yellow-500 text-[10px] font-bold rounded uppercase\">Pending</div>\n                                </div>\n\n                                <div className=\"flex items-center gap-2 mb-4 bg-slate-900/50 p-2 rounded-lg\">\n                                    <Phone className=\"w-4 h-4 text-blue-400\" />\n                                    <div>\n                                        <span className=\"text-xs text-slate-500 block\">Claiming Phone</span>\n                                        <span className=\"text-sm font-mono font-bold text-white\">{req.requestedPhone}</span>\n                                    </div>\n                                </div>\n\n                                <div className=\"bg-slate-700/30 p-2 rounded mb-4\">\n                                    <div className=\"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-1\">Legacy Data Match</div>\n                                    <div className=\"flex items-center justify-between text-xs\">\n                                        <span className=\"text-slate-300\">Codename: <b className=\"text-white\">{req.legacyData.codename}</b></span>\n                                        <span className=\"px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded font-bold\">{req.legacyData.rank}</span>\n                                    </div>\n                                    <div className=\"text-xs text-slate-400 mt-1\">EXP: {req.legacyData.exp}</div>\n                                </div>\n\n                                <div className=\"flex gap-2\">\n                                    <button\n                                        onClick={() => handleRejectClaim(req.id)}\n                                        disabled={processingReqId === req.id}\n                                        className=\"flex-1 py-2 bg-red-500/10 text-red-400 font-bold rounded hover:bg-red-500/20\"\n                                    >\n                                        Reject\n                                    </button>\n                                    <button\n                                        onClick={() => handleApproveClaim(req)}\n                                        disabled={processingReqId === req.id}\n                                        className=\"flex-1 py-2 bg-green-500 text-white font-bold rounded shadow-lg hover:bg-green-600 disabled:opacity-50\"\n                                    >\n                                        {processingReqId === req.id ? 'Processing...' : 'Approve'}\n                                    </button>\n                                </div>\n                            </div>\n                        ))\n                    )}\n                </div>\n            )}\n\n            {/* --- MODALS (Reused from previous code) --- */}\n            <AnimatePresence>\n                {/* WIZARD MODAL (Name -> Activity -> User -> Confirm) */}\n                {['ADMIN_NAME', 'SELECT_ACT', 'SELECT_USER', 'CONFIRM'].includes(stage) && (\n                    <div className=\"fixed inset-0 bg-black/90 z-50 flex items-end md:items-center justify-center p-4 backdrop-blur-sm\">\n                        <motion.div\n                            initial={{ y: 100, opacity: 0 }}\n                            animate={{ y: 0, opacity: 1 }}\n                            className=\"bg-slate-800 w-full max-w-sm rounded-2xl border border-slate-700 shadow-2xl overflow-hidden mb-10 md:mb-0\"\n                        >\n                            <div className=\"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-900/50\">\n                                <h3 className=\"font-bold text-white\">\n                                    {stage === 'ADMIN_NAME' && 'üë§ Step 1: Admin Name'}\n                                    {stage === 'SELECT_ACT' && '‚ö° Step 2: Select Activity'}\n                                    {stage === 'SELECT_USER' && 'üîç Step 3: Select User'}\n                                    {stage === 'CONFIRM' && '‚ö†Ô∏è Confirm Action'}\n                                </h3>\n                                <button onClick={() => setStage('IDLE')}><X className=\"w-5 h-5 text-slate-400\" /></button>\n                            </div>\n\n                            <div className=\"p-6 max-h-[60vh] overflow-y-auto\">\n                                {stage === 'ADMIN_NAME' && (\n                                    <input\n                                        autoFocus type=\"text\" value={adminName} onChange={e => setAdminName(e.target.value)}\n                                        onKeyDown={e => e.key === 'Enter' && handleNextStep()}\n                                        className=\"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white\" placeholder=\"Name...\"\n                                    />\n                                )}\n\n                                {stage === 'SELECT_ACT' && (\n                                    <div className=\"space-y-2\">\n                                        {menuType === 'ACTIVITY' ? ACTIVITY_LIST.map(act => (\n                                            <button key={act.id} onClick={() => { setSelectedAct(act); setTimeout(() => setStage('SELECT_USER'), 100); }}\n                                                className=\"w-full text-left p-3 rounded-lg bg-slate-700 hover:bg-blue-600 flex justify-between group\">\n                                                <span className=\"text-sm font-bold text-white\">{act.label}</span>\n                                                <span className=\"text-xs bg-slate-900/50 px-2 py-1 rounded\">+{act.exp}</span>\n                                            </button>\n                                        )) : (\n                                            <div className=\"space-y-3\">\n                                                <input type=\"number\" autoFocus value={manualExp} onChange={e => setManualExp(Number(e.target.value))} placeholder=\"Exp Amount\" className=\"w-full bg-slate-900 border border-slate-600 rounded p-3 text-white font-bold\" />\n                                                <input type=\"text\" value={manualReason} onChange={e => setManualReason(e.target.value)} placeholder=\"Reason\" className=\"w-full bg-slate-900 border border-slate-600 rounded p-3 text-white\" />\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n\n                                {stage === 'SELECT_USER' && (\n                                    <div>\n                                        <div className=\"relative mb-3\">\n                                            <Search className=\"absolute left-3 top-3 text-slate-500 w-4 h-4\" />\n                                            <input type=\"text\" autoFocus value={searchTerm} onChange={e => setSearchTerm(e.target.value)}\n                                                className=\"w-full bg-slate-900 border border-slate-600 rounded-lg pl-10 p-3 text-white\" placeholder=\"Search...\" />\n                                        </div>\n                                        <div className=\"space-y-1 h-48 overflow-y-auto\">\n                                            {users.filter(u => u.displayName.toLowerCase().includes(searchTerm.toLowerCase())).map(u => (\n                                                <button key={u.id} onClick={() => { setTargetUser(u); setTimeout(() => setStage('CONFIRM'), 50); }}\n                                                    className=\"w-full text-left p-2 rounded hover:bg-blue-600 flex justify-between items-center bg-slate-700/30 mb-1\">\n                                                    <span className=\"text-sm font-bold text-white\">{u.displayName}</span>\n                                                    <span className=\"text-xs font-mono text-slate-400\">{u.exp} EXP</span>\n                                                </button>\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n\n                                {stage === 'CONFIRM' && targetUser && (\n                                    <div className=\"text-center space-y-4\">\n                                        <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-700\">\n                                            <div className=\"text-blue-400 font-bold text-lg\">{menuType === 'ACTIVITY' ? selectedAct.label : manualReason}</div>\n                                            <div className=\"text-2xl font-black text-white mt-1\">{(menuType === 'ACTIVITY' ? selectedAct.exp : manualExp) > 0 ? '+' : ''}{(menuType === 'ACTIVITY' ? selectedAct.exp : manualExp)} EXP</div>\n                                        </div>\n                                        <div className=\"text-slate-400 text-sm\">Target: <b className=\"text-white\">{targetUser.displayName}</b></div>\n                                    </div>\n                                )}\n                            </div>\n\n                            {/* FOOTER */}\n                            <div className=\"p-4 border-t border-slate-700 bg-slate-900/50 flex gap-3\">\n                                {stage === 'CONFIRM' ? (\n                                    <button onClick={handleExecute} disabled={isProcessing} className=\"w-full py-3 bg-blue-600 text-white font-bold rounded-lg shadow-lg\">\n                                        {isProcessing ? 'Processing...' : 'CONFIRM'}\n                                    </button>\n                                ) : (\n                                    <button onClick={handleNextStep} className=\"w-full py-3 bg-blue-600 text-white font-bold rounded-lg\">NEXT &raquo;</button>\n                                )}\n                            </div>\n                        </motion.div>\n                    </div>\n                )}\n\n                {/* SUCCESS */}\n                {stage === 'SUCCESS' && (\n                    <div className=\"fixed inset-0 z-[60] flex items-center justify-center pointer-events-none\">\n                        <motion.div initial={{ scale: 0.5, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 1.5, opacity: 0 }}\n                            className=\"bg-green-500 p-6 rounded-3xl shadow-2xl flex flex-col items-center gap-2\">\n                            <Check className=\"w-8 h-8 text-white\" strokeWidth={4} />\n                            <div className=\"text-white font-black text-xl\">SUCCESS!</div>\n                        </motion.div>\n                    </div>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}