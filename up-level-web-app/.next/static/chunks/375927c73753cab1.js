(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6004,e=>{"use strict";let t=(0,e.i(27162).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],6004)},8358,e=>{"use strict";let t=(0,e.i(27162).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],8358)},15650,e=>{"use strict";var t=e.i(70395),s=e.i(7951),l=e.i(37779),a=e.i(27162);let i=(0,a.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var r=e.i(40351);let n=(0,a.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var d=e.i(6004),c=e.i(8358),o=e.i(50339);e.i(85670);var x=e.i(25681),u=e.i(55541);let m=e=>{let t=(e||"").toLowerCase();return t.includes("god")?"ðŸ”±":t.includes("legend")?"ðŸ‘‘":t.includes("grandmaster")?"ðŸ›¡ï¸":t.includes("diamond")?"ðŸ’Ž":t.includes("platinum")?"ðŸ’ ":t.includes("gold")?"ðŸ¥‡":t.includes("silver")?"ðŸ¥ˆ":t.includes("bronze")?"ðŸ¥‰":"ðŸŒ±"};function h(){let{user:e}=(0,u.useAuth)(),[a,h]=(0,s.useState)([]),[p,b]=(0,s.useState)(!0),[f,g]=(0,s.useState)(""),[N,j]=(0,s.useState)(null),[y,v]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!e)return;let t=(0,x.onSnapshot)((0,x.doc)(o.db,"users",e.uid),e=>{e.exists()&&v(e.data())});return()=>t()},[e]),(0,s.useEffect)(()=>{let e=(0,x.onSnapshot)((0,x.doc)(o.db,"system_data","member_dashboard"),e=>{if(e.exists()){let t=e.data().items||[];(t=t.map(e=>{let t=e["Code name"]||e.Codename||e.CodeName||e.codename||"",s=e.Name||e["Display Name"]||e.Nickname||"Unknown Agent",l=Number(e["Rebirth Count"]||e.RebirthCount||e.rebirth||0);if(!l&&e.Rank){let t=String(e.Rank);t.endsWith(" V")?l=4:t.endsWith(" IV")?l=3:t.endsWith(" III")?l=2:t.endsWith(" II")&&(l=1)}return{...e,exp:Number(String(e.EXP||e.Exp||e.exp||"0").replace(/[^0-9]/g,"")),rank:e.Rank||e["Current Rank"]||"Rookie",name:t||s,codename:t,phone:String(e.Phone||e.Tel||"").replace(/[^0-9]/g,""),party:e.Party||"No Party",rebirth:l}})).sort((e,t)=>{let s=e=>{let t=String(e).trim().split(" ")[0].toLowerCase();return t.includes("god")?800:t.includes("legend")?700:t.includes("grandmaster")?600:t.includes("diamond")?500:t.includes("platinum")?400:t.includes("gold")?300:t.includes("silver")?200:100*!!t.includes("bronze")},l=s(e.rank),a=s(t.rank);return l!==a?a-l:e.exp!==t.exp?t.exp-e.exp:t.rebirth-e.rebirth}),t.forEach((e,t)=>e.position=t+1),h(t)}b(!1)});return()=>e()},[]),(0,s.useEffect)(()=>{if(y&&a.length>0){let e=String(y.phone||y.requestedPhone||"").replace(/-/g,"");j(a.find(t=>e&&t.phone===e||y.displayName&&t.name===y.displayName))}},[y,a]);let w=a.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())||e.codename.toLowerCase().includes(f.toLowerCase()));return(0,t.jsxs)("div",{className:"min-h-screen bg-[#1F2E4A] pb-24 relative font-poppins text-white",children:[(0,t.jsxs)("div",{className:"bg-[#152033] p-6 pb-12 sticky top-0 z-10 shadow-xl border-b border-indigo-900/50",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("h1",{className:"text-2xl font-black bg-gradient-to-r from-yellow-300 to-yellow-600 bg-clip-text text-transparent flex items-center gap-2",children:[(0,t.jsx)(r.Trophy,{className:"w-6 h-6 text-yellow-500 fill-current"}),"LEADERBOARD"]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search player...",value:f,onChange:e=>g(e.target.value),className:"w-full bg-[#1F2E4A] rounded-xl py-3 pl-12 pr-4 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 border border-slate-700"})]})]}),(0,t.jsx)("div",{className:"px-4 -mt-6 z-20 relative space-y-3",children:p?(0,t.jsx)("div",{className:"flex justify-center pt-10",children:(0,t.jsx)(d.Loader2,{className:"w-8 h-8 animate-spin text-blue-500"})}):0===w.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[(0,t.jsx)(r.Trophy,{className:"w-16 h-16 mb-4 text-slate-600"}),(0,t.jsx)("p",{className:"text-slate-400 font-bold",children:"No Rankings Available"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-600",children:"Admin needs to sync data first."})]}):w.map(e=>(0,t.jsxs)(l.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`relative rounded-2xl p-4 flex items-center gap-4 ${N?.position===e.position?"bg-gradient-to-r from-blue-900/80 to-indigo-900/80 border border-blue-500/50 shadow-lg shadow-blue-500/20":"bg-[#2b2d42] border border-slate-700/50"}`,children:[(0,t.jsxs)("div",{className:"relative shrink-0 w-10 text-center",children:[e.position<=3?(0,t.jsx)("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2",children:(0,t.jsx)(n,{className:`w-6 h-6 ${1===e.position?"text-yellow-400 fill-current":2===e.position?"text-slate-300 fill-current":"text-amber-700 fill-current"}`})}):null,(0,t.jsx)("span",{className:`text-xl font-black ${e.position<=3?"text-yellow-500":"text-slate-500"}`,children:e.position})]}),(0,t.jsx)("div",{className:"shrink-0 w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-2xl border-2 border-slate-700",children:m(e.rank)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-bold truncate text-sm text-white",children:e.name}),e.party&&"No Party"!==e.party&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-blue-500/20 text-blue-300 text-[9px] font-bold uppercase tracking-wider",children:e.party})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 truncate flex items-center gap-1",children:[(0,t.jsx)(c.Shield,{className:"w-3 h-3"})," ",e.rank]})]}),(0,t.jsxs)("div",{className:"shrink-0 text-right",children:[(0,t.jsx)("p",{className:"font-black text-yellow-400 text-sm",children:e.exp.toLocaleString()}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 font-bold",children:"EXP"})]})]},`${e.position}-${e.name}`))}),N&&(0,t.jsx)("div",{className:"fixed bottom-[88px] left-0 w-full px-4 z-40 animate-in slide-in-from-bottom-5",children:(0,t.jsxs)("div",{className:"bg-blue-600 rounded-2xl p-4 shadow-2xl flex items-center gap-4 text-white border border-blue-400",children:[(0,t.jsx)("div",{className:"font-black text-xl w-8 text-center",children:N.position}),(0,t.jsx)("div",{className:"shrink-0 w-10 h-10 rounded-full bg-blue-800 flex items-center justify-center text-xl border border-white/20",children:m(N.rank)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"font-bold text-sm truncate",children:["You (",N.name,")"]}),(0,t.jsx)("div",{className:"text-xs text-blue-200",children:N.rank})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-black text-white text-sm",children:N.exp.toLocaleString()}),(0,t.jsx)("div",{className:"text-[10px] text-blue-200",children:"EXP"})]})]})})]})}e.s(["default",()=>h],15650)}]);