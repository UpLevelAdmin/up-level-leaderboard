(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6004,e=>{"use strict";let t=(0,e.i(27162).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],6004)},37978,e=>{"use strict";let t=(0,e.i(27162).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],37978)},28144,e=>{"use strict";let t=(0,e.i(27162).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],28144)},32393,e=>{"use strict";let t=(0,e.i(27162).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],32393)},87592,e=>{"use strict";let t=(0,e.i(27162).default)("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);e.s(["Gamepad2",()=>t],87592)},89916,e=>{"use strict";var t=e.i(70395),a=e.i(7951),s=e.i(58101),l=e.i(32393),i=e.i(27162);let r=(0,i.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var n=e.i(37978),o=e.i(6004);let d=(0,i.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),c=(0,i.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var m=e.i(87592);let x=(0,i.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var h=e.i(28144);e.i(85670);var p=e.i(25681),u=e.i(50339),b=e.i(55541);let f=["Pokemon TCG","One Piece","Disney Lorcana","Magic: The Gathering","Flesh and Blood","Union Arena","Battle Spirits","Digimon","Board Games"];function g(){let{user:e,signInWithGoogle:i}=(0,b.useAuth)(),g=(0,s.useRouter)(),[N,j]=(0,a.useState)(1),[y,v]=(0,a.useState)(!1),[w,k]=(0,a.useState)({firstName:"",lastName:"",thaiName:"",nickname:"",phone:"",lineId:"",birthDate:"",interests:[]}),[C,S]=(0,a.useState)(null),[T,I]=(0,a.useState)(!1),P=async()=>{try{await i()}catch(e){console.error("Login Failed",e)}},A=async()=>{let e=w.firstName.trim()&&w.lastName.trim()?w.thaiName.trim()?w.nickname.trim()?!w.phone.trim()||w.phone.length<9?"Valid phone number is required":w.birthDate?null:"Birthday is required":"Nickname is required (for Badge)":"Thai Full Name is required":"English Full Name is required";if(e)return void alert(e);v(!0);try{let e=(0,p.query)((0,p.collection)(u.db,"users"),(0,p.where)("phone","==",w.phone));if(!(await (0,p.getDocs)(e)).empty){alert("This phone number is already registered!"),v(!1);return}v(!1),j(2)}catch(e){console.error(e),v(!1),alert("Error checking phone number")}},D=async()=>{if(e){v(!0);try{await (0,p.setDoc)((0,p.doc)(u.db,"users",e.uid),{uid:e.uid,email:e.email,displayName:`${w.firstName} ${w.lastName}`,firstName:w.firstName,lastName:w.lastName,thaiName:w.thaiName,nickname:w.nickname,codename:w.nickname,phone:w.phone,lineId:w.lineId,birthDate:w.birthDate,interests:w.interests,slipImage:C||null,rank:"Rookie",exp:0,level:1,party:"Novice",status:"pending_payment",paymentStatus:"pending_verification",role:"member",createdAt:(0,p.serverTimestamp)(),lastUpdated:(0,p.serverTimestamp)()}),j(3)}catch(e){console.error(e),alert("Registration failed: "+e.message)}finally{v(!1)}}},U=async()=>{if(C&&e){I(!0),v(!0);try{await (0,p.setDoc)((0,p.doc)(u.db,"users",e.uid),{uid:e.uid,email:e.email,displayName:`${w.firstName} ${w.lastName}`,firstName:w.firstName,lastName:w.lastName,thaiName:w.thaiName,nickname:w.nickname,codename:w.nickname,phone:w.phone,lineId:w.lineId,birthDate:w.birthDate,interests:w.interests,slipImage:C,rank:"Rookie",exp:0,level:1,party:"Novice",status:"pending_payment",paymentStatus:"pending_verification",role:"member",createdAt:(0,p.serverTimestamp)(),lastUpdated:(0,p.serverTimestamp)()});let t=await fetch("/api/verify-slip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slipImage:C,userId:e.uid,amount:50})}),a=await t.json();a.success?(alert("✅ Payment Verified! Welcome to Up Level Guild."),window.location.href="/dashboard"):(alert("⚠️ Auto-Verification Failed: "+(a.error||"Unknown error")+"\n\nWe submitted your application for Manual Review instead."),j(3))}catch(e){console.error(e),alert("Verification Error: "+e.message)}finally{I(!1),v(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#0f1014] text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[(0,t.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-indigo-600/20 blur-[120px] rounded-full animate-pulse"}),(0,t.jsx)("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-600/20 blur-[120px] rounded-full animate-pulse delay-1000"})]}),(0,t.jsxs)("div",{className:"max-w-xl w-full relative z-10 my-10",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-black mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent uppercase tracking-tight",children:"Up Level Guild"}),(0,t.jsx)("p",{className:"text-slate-400 font-medium mb-6",children:"Become a Member • Unlock Privileges"}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#1a1b23] to-[#131419] border border-slate-700 rounded-2xl p-4 shadow-xl text-left transform rotate-1 hover:rotate-0 transition-all duration-300",children:[(0,t.jsxs)("div",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,t.jsx)(c,{className:"w-4 h-4"})," Member Privileges"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs text-slate-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-yellow-500",children:"★"})," Lifetime Membership (50 THB)"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-yellow-500",children:"★"})," Special Member Pricing"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-yellow-500",children:"★"})," Earn EXP & Rank Up"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-yellow-500",children:"★"})," Exclusive Tournament Access"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-[#1a1b23] border border-slate-700/50 rounded-3xl p-6 md:p-8 shadow-2xl backdrop-blur-xl",children:[!e&&(0,t.jsxs)("div",{className:"space-y-8 py-8 animate-in fade-in slide-in-from-bottom-4",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Sign In to Apply"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Secure your progress with Google Account."})]}),(0,t.jsxs)("button",{onClick:P,className:"w-full bg-white text-black font-bold py-4 rounded-xl flex items-center justify-center gap-3 hover:bg-slate-200 transition-all active:scale-95 shadow-lg shadow-white/10",children:[(0,t.jsx)("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-6 h-6",alt:"Google"}),"Continue with Google"]})]}),e&&1===N&&(0,t.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,t.jsx)(l.User,{className:"w-5 h-5 text-indigo-400"})," Personal Info"]}),(0,t.jsx)("span",{className:"text-xs font-bold bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded",children:"Step 1/2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"First Name (Eng)"}),(0,t.jsx)("input",{type:"text",placeholder:"John",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 outline-none focus:border-indigo-500 transition-colors",value:w.firstName,onChange:e=>k({...w,firstName:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Last Name (Eng)"}),(0,t.jsx)("input",{type:"text",placeholder:"Doe",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 outline-none focus:border-indigo-500 transition-colors",value:w.lastName,onChange:e=>k({...w,lastName:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Full Name (Thai) *Important"}),(0,t.jsx)("input",{type:"text",placeholder:"ชื่อ-นามสกุล ภาษาไทย",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 outline-none focus:border-indigo-500 transition-colors",value:w.thaiName,onChange:e=>k({...w,thaiName:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Nickname"}),(0,t.jsx)("input",{type:"text",placeholder:"ProGamer",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 outline-none focus:border-indigo-500 transition-colors",value:w.nickname,onChange:e=>k({...w,nickname:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Birthday (D/M)"}),(0,t.jsx)("input",{type:"text",placeholder:"25/12",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 outline-none focus:border-indigo-500 transition-colors",value:w.birthDate,onChange:e=>k({...w,birthDate:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),(0,t.jsx)("input",{type:"tel",placeholder:"0812345678",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 pl-10 outline-none focus:border-indigo-500 transition-colors font-mono",value:w.phone,onChange:e=>k({...w,phone:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-1 block",children:"Line ID"}),(0,t.jsx)("input",{type:"text",placeholder:"@lineid",className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl p-3 outline-none focus:border-indigo-500 transition-colors",value:w.lineId,onChange:e=>k({...w,lineId:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold text-slate-500 uppercase ml-1 mb-2 block",children:"Interested In"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:f.map(e=>(0,t.jsx)("button",{onClick:()=>{w.interests.includes(e)?k({...w,interests:w.interests.filter(t=>t!==e)}):k({...w,interests:[...w.interests,e]})},className:`text-xs p-2 rounded-lg border text-left transition-all ${w.interests.includes(e)?"bg-indigo-600 border-indigo-500 text-white":"bg-[#0f1014] border-slate-700 text-slate-400 hover:border-slate-500"}`,children:e},e))})]}),(0,t.jsx)("button",{onClick:A,disabled:y,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-600/20 hover:shadow-indigo-600/40 transition-all active:scale-95 flex items-center justify-center gap-2 mt-6",children:y?(0,t.jsx)(o.Loader2,{className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:["Payment Step ",(0,t.jsx)(d,{className:"w-5 h-5"})]})})]}),2===N&&(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,t.jsx)(x,{className:"w-5 h-5 text-indigo-400"})," Payment"]}),(0,t.jsx)("span",{className:"text-xs font-bold bg-indigo-500/20 text-indigo-300 px-2 py-1 rounded",children:"Step 2/2"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl flex flex-col items-center",children:[(0,t.jsx)("div",{className:"bg-blue-600 text-white text-xs font-bold px-4 py-1 rounded-full mb-3",children:"50.00 THB"}),(0,t.jsx)("img",{src:"/payment-qr.png",alt:"Payment QR",className:"w-48 h-auto rounded-lg shadow-inner border"}),(0,t.jsx)("p",{className:"text-slate-500 text-xs font-bold mt-2",children:"Scan to Pay (SCB: Chawanut C.)"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 text-sm md:text-xs",children:[(0,t.jsxs)("div",{className:"font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(h.Upload,{className:"w-4 h-4"}),C?"Slip Attached":"Upload Transfer Slip"]}),C?(0,t.jsxs)("div",{className:"relative w-full h-48 bg-black rounded-lg overflow-hidden border border-slate-600",children:[(0,t.jsx)("img",{src:C,className:"w-full h-full object-contain"}),(0,t.jsxs)("button",{onClick:()=>S(null),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 shadow-lg",children:[(0,t.jsx)(d,{className:"w-4 h-4 rotate-45"})," "]})]}):(0,t.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-600 border-dashed rounded-lg cursor-pointer bg-slate-800 hover:bg-slate-700 transition-colors",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,t.jsx)(h.Upload,{className:"w-8 h-8 mb-2 text-slate-400"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Click to upload slip image"})]}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let a=new FileReader;a.onload=e=>{let t=new Image;t.onload=()=>{let e=document.createElement("canvas"),a=t.width,s=t.height;a>s?a>800&&(s*=800/a,a=800):s>800&&(a*=800/s,s=800),e.width=a,e.height=s;let l=e.getContext("2d");l?.drawImage(t,0,0,a,s),S(e.toDataURL("image/jpeg",.7))},t.src=e.target?.result},a.readAsDataURL(t)}})]}),(0,t.jsx)("p",{className:"text-slate-500 mt-2 text-center text-[10px]",children:"Image will be resized automatically."})]}),(0,t.jsxs)("div",{className:"flex gap-3 flex-col md:flex-row",children:[(0,t.jsx)("button",{onClick:()=>j(1),className:"flex-1 py-3 rounded-xl font-bold text-slate-400 bg-slate-800 hover:bg-slate-700 transition-colors",children:"Back"}),(0,t.jsx)("button",{onClick:D,disabled:y||T,className:"flex-1 bg-slate-700 text-slate-300 font-bold py-3 rounded-xl hover:bg-slate-600 transition-all flex items-center justify-center gap-2",children:y&&!T?(0,t.jsx)(o.Loader2,{className:"animate-spin"}):"Submit for Manual Check"}),(0,t.jsx)("button",{onClick:U,disabled:y||T||!C,className:"flex-[2] bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-green-600/20 hover:shadow-green-600/40 transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:T?(0,t.jsx)(o.Loader2,{className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:["Check Slip & Join Now ",(0,t.jsx)(n.CheckCircle2,{className:"w-5 h-5"})]})})]})]}),3===N&&(0,t.jsxs)("div",{className:"text-center space-y-6 animate-in zoom-in-95 duration-300 py-4",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-green-500/10",children:(0,t.jsx)(n.CheckCircle2,{className:"w-12 h-12 text-green-500"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Welcome, ",w.nickname,"!"]}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm px-4",children:["Your application has been received.",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-indigo-400 font-bold",children:"Status: Pending Verification"})]})]}),(0,t.jsxs)("div",{className:"bg-[#0f1014] p-6 rounded-2xl text-left space-y-3 border border-slate-800 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:(0,t.jsx)(m.Gamepad2,{className:"w-24 h-24"})}),(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase font-black tracking-widest",children:"WHAT'S NEXT"}),(0,t.jsxs)("ul",{className:"space-y-3",children:[(0,t.jsxs)("li",{className:"flex gap-3 text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"bg-slate-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-slate-500 shrink-0",children:"1"}),"Admin verifies your payment"]}),(0,t.jsxs)("li",{className:"flex gap-3 text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"bg-slate-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-slate-500 shrink-0",children:"2"}),'Your rank is updated to "Rookie"']}),(0,t.jsxs)("li",{className:"flex gap-3 text-sm text-slate-300",children:[(0,t.jsx)("span",{className:"bg-slate-800 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-slate-500 shrink-0",children:"3"}),"Start earning EXP!"]})]})]}),(0,t.jsxs)("button",{onClick:()=>g.push("/"),className:"text-slate-400 hover:text-white text-sm font-bold flex items-center justify-center gap-2 mx-auto mt-4 px-4 py-2 hover:bg-white/5 rounded-lg transition-all",children:[(0,t.jsx)(d,{className:"w-4 h-4 rotate-180"})," Back to Home"]})]})]})]})]})}e.s(["default",()=>g],89916)}]);