(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32393,e=>{"use strict";let t=(0,e.i(27162).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],32393)},21632,e=>{"use strict";let t=(0,e.i(27162).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],21632)},6004,e=>{"use strict";let t=(0,e.i(27162).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],6004)},37978,e=>{"use strict";let t=(0,e.i(27162).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],37978)},28144,e=>{"use strict";let t=(0,e.i(27162).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],28144)},30426,e=>{"use strict";let t=(0,e.i(27162).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],30426)},90761,e=>{"use strict";var t=e.i(70395),a=e.i(7951),s=e.i(28144),l=e.i(6004),i=e.i(37978),r=e.i(30426),n=e.i(21632),d=e.i(32393);let c=(0,e.i(27162).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.i(85670);var o=e.i(25681),m=e.i(50339);function x(){let[e,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)("upload"),[p,g]=(0,a.useState)(null),[b,f]=(0,a.useState)(null),[j,y]=(0,a.useState)({name:"",note:""}),[v,w]=(0,a.useState)(null),N=async()=>{if(!j.name)return void alert("à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹à¸ˆà¹‰à¸‡à¸„à¸£à¸±à¸š");x(!0);try{console.log("Saving high-res slip to Google Drive..."),await fetch("https://script.google.com/macros/s/AKfycbxtjsDwHI6nJU4OIHExUxMaZwUn3qwakvdkzwbQO7C8Trzz5Gh84SX6F1gqb4BOFQcn/exec",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_slip_to_drive",secret:"up-level-secret-key-1234",slipImage:b,customerName:j.name,amount:p.amount,transRef:p.transRef,note:j.note})});let e=document.createElement("canvas"),t=new window.Image;await new Promise(e=>{t.onload=e,t.src=b||""}),e.width=150,e.height=t.height/t.width*150,e.getContext("2d")?.drawImage(t,0,0,e.width,e.height);let a=e.toDataURL("image/jpeg",.5);await (0,o.addDoc)((0,o.collection)(m.db,"public_payments"),{customerName:j.name,note:j.note,amount:p.amount,transRef:p.transRef,transTimestamp:p.transTimestamp,sender:p.sender,slipImage:a,driveStatus:"Saved to Google Drive Folder: UpLevel_PaymentSlips",status:"pending_admin",verifiedAt:(0,o.serverTimestamp)()}),u("success")}catch(e){console.error(e),alert("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰ à¸à¸£à¸¸à¸“à¸²à¹à¸ˆà¹‰à¸‡à¸žà¸™à¸±à¸à¸‡à¸²à¸™")}finally{x(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-[#0f1014] text-white p-6 font-sans flex flex-col items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-indigo-400 mb-2",children:"UP LEVEL PAY"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm italic",children:"à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹‚à¸­à¸™à¹€à¸‡à¸´à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ âš¡"})]}),"upload"===h&&(0,t.jsxs)("div",{className:"bg-[#15151a] border border-slate-700/50 rounded-3xl p-8 shadow-2xl text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-indigo-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(s.Upload,{className:"w-10 h-10 text-indigo-400"})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"à¹à¸ˆà¹‰à¸‡à¹‚à¸­à¸™à¹€à¸‡à¸´à¸™"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-8",children:"à¸à¸£à¸¸à¸“à¸²à¹à¸™à¸šà¸ªà¸¥à¸´à¸›à¹€à¸žà¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥"}),(0,t.jsxs)("label",{className:"block w-full cursor-pointer group",children:[(0,t.jsx)("div",{className:"bg-indigo-600 hover:bg-indigo-500 py-4 rounded-2xl font-bold transition-all shadow-lg shadow-indigo-900/40 active:scale-95 flex items-center justify-center gap-2",children:e?(0,t.jsx)(l.Loader2,{className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Upload,{className:"w-5 h-5"})," à¹€à¸¥à¸·à¸­à¸à¸£à¸¹à¸›à¸ªà¸¥à¸´à¸›"]})}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;x(!0),w(null);let a=new FileReader;a.onload=e=>{let t=new window.Image;t.onload=async()=>{let e=document.createElement("canvas"),a=t.width,s=t.height;a>s?a>1e3&&(s*=1e3/a,a=1e3):s>1e3&&(a*=1e3/s,s=1e3),e.width=a,e.height=s;let l=e.getContext("2d");l?.drawImage(t,0,0,a,s);let i=e.toDataURL("image/jpeg",.8);f(i);try{let e=await fetch("/api/verify-slip",{method:"POST",body:JSON.stringify({slipImage:i,userId:"PUBLIC_PAY",amount:0}),headers:{"Content-Type":"application/json"}}),t=await e.json();t.success?(g(t.data),u("info")):w(t.error||"à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸¥à¸´à¸›à¹„à¸¡à¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ à¸à¸£à¸¸à¸“à¸²à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆà¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡")}catch(e){w("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š")}finally{x(!1)}},t.src=e.target?.result},a.readAsDataURL(t)},disabled:e})]}),v&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-xs flex items-center gap-2",children:[(0,t.jsx)(r.XCircle,{className:"w-4 h-4 shrink-0"})," ",v]})]}),"info"===h&&(0,t.jsxs)("div",{className:"bg-[#15151a] border border-slate-700/50 rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom-4",children:[(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 p-4 rounded-2xl mb-6 flex items-center gap-4",children:[(0,t.jsx)(i.CheckCircle2,{className:"text-green-400 w-10 h-10"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-green-400 font-bold uppercase text-[10px]",children:"à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸¥à¸´à¸›à¸œà¹ˆà¸²à¸™à¹à¸¥à¹‰à¸§"}),(0,t.jsxs)("div",{className:"text-xl font-black",children:["à¸¿",p.amount.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-500",children:["à¸„à¸¸à¸“",p.sender.displayName]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[10px] text-slate-500 font-bold uppercase mb-1 flex items-center gap-1",children:[(0,t.jsx)(d.User,{className:"w-3 h-3"})," à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹à¸ˆà¹‰à¸‡ (à¸Šà¸·à¹ˆà¸­à¹€à¸¥à¹ˆà¸™/à¸Šà¸·à¹ˆà¸­à¸ˆà¸£à¸´à¸‡)"]}),(0,t.jsx)("input",{type:"text",value:j.name,onChange:e=>y({...j,name:e.target.value}),className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl px-4 py-3 text-sm focus:border-indigo-500 outline-none transition-all",placeholder:"à¹€à¸Šà¹ˆà¸™ à¹à¸Šà¸¡à¸›à¹Œ"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[10px] text-slate-500 font-bold uppercase mb-1 flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-3 h-3"})," à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸ (à¹€à¸Šà¹ˆà¸™ à¸„à¹ˆà¸²à¹à¸‚à¹ˆà¸‡, à¸„à¹ˆà¸²à¸à¸²à¸£à¹Œà¸”)"]}),(0,t.jsx)("textarea",{value:j.note,onChange:e=>y({...j,note:e.target.value}),className:"w-full bg-[#0f1014] border border-slate-700 rounded-xl px-4 py-3 text-sm focus:border-indigo-500 outline-none transition-all h-24",placeholder:"à¸£à¸°à¸šà¸¸à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡..."})]}),(0,t.jsx)("button",{onClick:N,disabled:e,className:"w-full bg-white text-black font-bold py-4 rounded-2xl shadow-xl hover:bg-slate-100 transition-all flex items-center justify-center gap-2 mt-4",children:e?(0,t.jsx)(l.Loader2,{className:"animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Send,{className:"w-5 h-5"})," à¸¢à¸·à¸™à¸¢à¸±à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥"]})})]})]}),"success"===h&&(0,t.jsxs)("div",{className:"bg-[#15151a] border border-slate-700/50 rounded-3xl p-10 shadow-2xl text-center animate-in zoom-in",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(i.CheckCircle2,{className:"w-10 h-10 text-green-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-black mb-2",children:"à¹„à¸”à¹‰à¸£à¸±à¸šà¹€à¸‡à¸´à¸™à¹à¸¥à¹‰à¸§!"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mb-8",children:["à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¸¡à¸²à¹ƒà¸Šà¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸„à¸£à¸±à¸š ðŸ˜Š",(0,t.jsx)("br",{}),'à¹à¸ˆà¹‰à¸‡à¹à¸­à¸”à¸¡à¸´à¸™à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸§à¹ˆà¸² "à¹‚à¸­à¸™à¹à¸¥à¹‰à¸§"']}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"text-slate-500 text-xs underline hover:text-slate-400",children:"à¹€à¸£à¸´à¹ˆà¸¡à¸£à¸²à¸¢à¸à¸²à¸£à¹ƒà¸«à¸¡à¹ˆ"})]})]})})}e.s(["default",()=>x],90761)}]);