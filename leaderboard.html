
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Up Level Guild - Leaderboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

  <body>
  <div class="container">
  
  <header>
    <img src="https://i.postimg.cc/wjzpnxjB/Up-Level-01-1.png" alt="Up Level Logo" style="width: 100px; margin-top: 20px;">
    <h1 style="font-family: 'Sarabun', sans-serif;">ğŸ† Leaderboard</h1>
  </header>

  <main>
    <div id="leaderboard" class="leaderboard-container">
      <p>Loading leaderboard...</p>
    </div>

    <div class="rank-system">
      <h2>ğŸ¥‡ Rank System</h2>
      <table class="rank-table">
        <tr><th>Rank</th><th>EXP Range</th></tr>
        <tr><td>ğŸ£ Rookie</td><td>0â€“4</td></tr>
        <tr><td>ğŸ›¡ï¸ Bronze</td><td>5â€“14</td></tr>
        <tr><td>âš”ï¸ Silver</td><td>15â€“29</td></tr>
        <tr><td>ğŸ¥‡ Gold</td><td>30â€“49</td></tr>
        <tr><td>â­ Platinum</td><td>50â€“74</td></tr>
        <tr><td>ğŸ’ Diamond</td><td>75â€“119</td></tr>
        <tr><td>ğŸ‘‘ Grandmaster</td><td>120â€“199</td></tr>
        <tr><td>ğŸ‰ Legend</td><td>200+</td></tr>
      </table>
    </div>
  </main>

  <footer style="font-size: 12px; padding: 20px; color: #888;">
    &copy; 2025 Up Level Guild System. Powered by Netlify + Google Sheets
  </footer>

  <script>
    async function fetchLeaderboard() {
      const response = await fetch("https://script.google.com/macros/s/AKfycbwJoXR9EFLngOAyA_WjQJNE0zT3MmL2afwlwvxmnMQ88WYzjlD-l2c_LXjg-k3bFWj9/exec?func=getLeaderboard");
      const data = await response.json();
      const container = document.getElementById("leaderboard");
      if (!data || data.length === 0) {
        container.innerHTML = "<p>à¸£à¸­à¸ªà¸¡à¸²à¸Šà¸´à¸à¸„à¸™à¹à¸£à¸à¸‚à¸­à¸‡à¸à¸´à¸¥à¸”à¹Œà¸­à¸¢à¸¹à¹ˆà¸™à¸°!</p>";
        return;
      }
      const table = document.createElement("table");
      table.className = "leaderboard-table";
      const headerRow = document.createElement("tr");
      ["#", "Codename", "Rank", "EXP", "Party"].forEach(text => {
        const th = document.createElement("th");
        th.textContent = text;
        headerRow.appendChild(th);
      });
      table.appendChild(headerRow);

      const rankEmojis = {
        "Rookie": "ğŸ£", "Bronze": "ğŸ›¡ï¸", "Silver": "âš”ï¸", "Gold": "ğŸ¥‡",
        "Platinum": "â­", "Diamond": "ğŸ’", "Grandmaster": "ğŸ‘‘", "Legend": "ğŸ‰"
      };

      data.forEach((player, index) => {
        const row = document.createElement("tr");
        const codename = player["Codename"] || "-";
        const rank = player["Rank"] || "-";
        const exp = player["EXP"] || 0;
        const party = player["Party"] || "-";
        const emoji = rankEmojis[rank] || "";
        const rankDisplay = `<span style='white-space: nowrap;'>${emoji} ${rank} ${emoji}</span>`;
        [index + 1, codename, rankDisplay, exp, party].forEach(cell => {
          const td = document.createElement("td");
          td.innerHTML = cell;
          row.appendChild(td);
        });
        table.appendChild(row);
      });

      container.innerHTML = "";
      container.appendChild(table);
    }
    fetchLeaderboard();
  </script>

  </div>
  </body>

</html>
